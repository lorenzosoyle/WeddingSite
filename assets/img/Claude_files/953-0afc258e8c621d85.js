try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ac6fe567-7589-4b4a-968e-13de240847ad",e._sentryDebugIdIdentifier="sentry-dbid-ac6fe567-7589-4b4a-968e-13de240847ad")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[953],{874:(e,t,s)=>{s.d(t,{O:()=>a,U:()=>l});var n=s(7620),i=s(11362);let a=()=>{let e=(0,n.useContext)(i.O);if(!e)throw Error("useExtensions must be used within ExtensionsProvider");return e},l=()=>{let{extensions:e,setExtensionSettings:t}=a();return async s=>{let n=e.find(e=>e.id===s);if(!n)return;let i=n.settings||{};await t(s,{...i,isEnabled:!i.isEnabled})}}},3354:(e,t,s)=>{s.d(t,{So:()=>o,wH:()=>d,yo:()=>c});var n=s(62101),i=s(7620),a=s(50125),l=s(55323),r=s(40459);let o=async e=>{try{let t=await (null===n.Fd||void 0===n.Fd?void 0:n.Fd.getCompatibilityCheckResult());return function(e,t){var s,n,i;let r=[];if(!t)return r.push("claude-version-mismatch"),{compatible:!1,errorCodes:r};let o=function(e){var t;if(!(null==(t=e.compatibility)?void 0:t.platforms))return{compatible:!0};let s=(0,l.E)(),n=null==s?void 0:s.platform;return n&&e.compatibility.platforms.includes(n)?{compatible:!0}:{compatible:!1,errorCodes:["platform-mismatch"]}}(e);!o.compatible&&o.errorCodes&&r.push(...o.errorCodes);let d=(s=e,n=t,(null==(i=s.compatibility)?void 0:i.claude_desktop)&&n.appVersion?(0,a.satisfies)(n.appVersion,s.compatibility.claude_desktop)?{compatible:!0}:{compatible:!1,errorCodes:["claude-version-mismatch"]}:{compatible:!0});if(!d.compatible&&d.errorCodes&&r.push(...d.errorCodes),"node"===e.server.type){let s=function(e,t){var s,n;if("node"!==e.server.type)return{compatible:!0};let i=e.server.mcp_config.command,{builtInNodeVersion:l,nodeVersion:r}=t,o=null==(n=e.compatibility)||null==(s=n.runtimes)?void 0:s.node;if(r&&(!o||o&&(0,a.satisfies)(r,o)))return{compatible:!0};if(l){let e=i&&/^node(\.exe)?$/.test(i),t=!o||(0,a.satisfies)(l,o);return e||r?t?{compatible:!0}:{compatible:!1,errorCodes:["built-in-node-version-mismatch"]}:{compatible:!1,errorCodes:["no-node-installed-and-not-node-command"]}}return r||l?{compatible:!0}:{compatible:!1,errorCodes:["no-node-and-no-built-in-node"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}else if("python"===e.server.type){let s=function(e,t){var s,n;if("python"!==e.server.type)return{compatible:!0};let{pythonVersion:i}=t,l=null==(n=e.compatibility)||null==(s=n.runtimes)?void 0:s.python;return i?l?(0,a.satisfies)(i,l)?{compatible:!0}:{compatible:!1,errorCodes:["python-version-mismatch"]}:{compatible:!0}:{compatible:!1,errorCodes:["no-python-installed"]}}(e,t);!s.compatible&&s.errorCodes&&r.push(...s.errorCodes)}return{compatible:0===r.length,...r.length>0&&{errorCodes:r}}}(e,t||null)}catch(e){return{compatible:!1,errorCodes:["claude-version-mismatch"]}}},d=e=>{let{manifest:t}=e,[s,n]=(0,i.useState)(null),[a,l]=(0,i.useState)(!1),[r,d]=(0,i.useState)(null),c=(0,i.useCallback)(async()=>{if(!t)return void n(null);l(!0),d(null);try{let e=await o(t);n(e)}catch(e){d(e instanceof Error?e:Error("Failed to check compatibility")),n(null)}finally{l(!1)}},[t]);return(0,i.useEffect)(()=>{t?c():(n(null),l(!1),d(null))},[t,c]),{compatibility:s,isChecking:a,error:r,checkCompatibility:c}},c=(e,t)=>{var s,n;let i=[],a=(0,l.E)();if(!(null==e?void 0:e.compatibility))return i;if(e.compatibility.platforms&&e.compatibility.platforms.length>0){let s={win32:"Windows",darwin:"macOS",linux:"Linux"},n=s[r.platform]||(null==a?void 0:a.platform),l=e.compatibility.platforms.map(e=>s[e]||e).join(", "),o=!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("platform-mismatch");i.push({name:o?n:l,met:o})}if(e.compatibility.claude_desktop&&i.push({name:"Claude Desktop ".concat(e.compatibility.claude_desktop),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("claude-version-mismatch")}),"node"===e.server.type&&(null==(s=e.compatibility.runtimes)?void 0:s.node)){let s=["node-version-mismatch","no-node-installed-and-not-node-command","no-node-and-no-built-in-node","built-in-node-version-mismatch"];i.push({name:"Node.js ".concat(e.compatibility.runtimes.node),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else if("node"===e.server.type){let e=["no-node-installed-and-not-node-command","no-node-and-no-built-in-node"];i.push({name:"Node.js",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(t=>e.includes(t))})}if("python"===e.server.type&&(null==(n=e.compatibility.runtimes)?void 0:n.python)){let s=["python-version-mismatch","no-python-installed"];i.push({name:"Python ".concat(e.compatibility.runtimes.python),met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.some(e=>s.includes(e))})}else"python"===e.server.type&&i.push({name:"Python",met:!(null==t?void 0:t.errorCodes)||!t.errorCodes.includes("no-python-installed")});return i}},8835:(e,t,s)=>{s.d(t,{i:()=>x});var n=s(54568),i=s(1761),a=s(41417),l=s(12072),r=s(60265),o=s(24871),d=s(62971),c=s(92947),u=s(32987);let m=e=>{let{onClick:t,className:s,children:i,disabled:r,...o}=e;return(0,n.jsx)(l.Tooltip,{tooltipContent:!r&&(0,n.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"}),children:(0,n.jsx)(a.$,{className:(0,u.A)("!border-border-300 !rounded-lg",r?"!text-text-400":"hover:!bg-bg-200",s),disabled:r,onClick:e=>{e.stopPropagation(),null==t||t(e)},variant:"secondary",size:"icon_sm",...o,children:i})})},x=e=>{let{isDetailedView:t,handleAdd:s,handleRemove:u,handleConnect:x,handleDisconnect:f,isInstalled:p,isConnected:g,connectedByDefault:h}=e,v=(0,c.vx)(),y=(0,i.mV)();if("free"===(0,i.$b)())return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",href:"/upgrade?open_in_browser=1",target:"_blank",children:(0,n.jsx)(d.A,{defaultMessage:"Upgrade to connect",id:"33HAnsQE8u"})}):void 0;let j=!v&&!p;if(y&&v)if(p)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:u,children:(0,n.jsx)(d.A,{defaultMessage:"Remove from your team",id:"dl4er/5ODx"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-accent-secondary-100"});else return t?(0,n.jsx)(a.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",onClick:s,children:(0,n.jsx)(d.A,{defaultMessage:"Add to your team",id:"Bq/DQi0LBe"})}):null;if(y&&!v)if(h)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",disabled:!0,children:(0,n.jsx)(d.A,{defaultMessage:"Connected by default",id:"VqhPBBbJWk"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else if(g)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:f,children:(0,n.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else return t?(0,n.jsx)(l.Tooltip,{tooltipContent:j?(0,n.jsx)(d.A,{defaultMessage:"Ask your admin to add this for your team",id:"q273cUNkwo"}):void 0,children:(0,n.jsx)("div",{children:(0,n.jsx)(a.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",disabled:j,onClick:x,children:(0,n.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})})})}):(0,n.jsx)(l.Tooltip,{tooltipContent:j?(0,n.jsx)(d.A,{defaultMessage:"Ask your admin to add this for your team",id:"q273cUNkwo"}):void 0,children:(0,n.jsx)("div",{children:(0,n.jsx)(m,{disabled:j,onClick:x,children:(0,n.jsx)(o.c,{size:16})})})});if(!y)if(p&&g)return t?(0,n.jsx)(a.$,{variant:"secondary",size:"sm",className:"!rounded-lg !text-sm",onClick:u,children:(0,n.jsx)(d.A,{defaultMessage:"Disconnect",id:"qj1uhzynub"})}):(0,n.jsx)(r.S,{size:16,className:"transition-opacity m-2 text-text-500"});else return t?(0,n.jsx)(a.$,{variant:"primary",size:"sm",className:"!rounded-lg !text-sm",onClick:p?x:s,children:(0,n.jsx)(d.A,{defaultMessage:"Connect",id:"+vVZ/G11Zg"})}):(0,n.jsx)(m,{onClick:p?x:s,children:(0,n.jsx)(o.c,{size:16})})}},11362:(e,t,s)=>{s.d(t,{O:()=>r,y:()=>o});var n=s(54568),i=s(62101),a=s(7620),l=s(3354);let r=(0,a.createContext)(void 0),o=e=>{let{children:t}=e,[s,o]=(0,a.useState)([]),[d,c]=(0,a.useState)(!0),[u,m]=(0,a.useState)(!1),[x,f]=(0,a.useState)(null),[p,g]=(0,a.useState)(!0),[h,v]=(0,a.useState)(!0),y=(0,a.useCallback)(async()=>{try{c(!0),f(null);let e=await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.getInstalledExtensionsWithState());e&&o(e),m(!0)}catch(e){f(e instanceof Error?e.message:"Failed to load extensions")}finally{c(!1)}},[]),j=(0,a.useCallback)(async(e,t)=>{try{await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.setExtensionSettings(e,t)),o(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))}catch(e){f(e instanceof Error?e.message:"Failed to update extension settings"),await y()}},[y]),b=(0,a.useCallback)(async e=>{try{await (null===i.Fd||void 0===i.Fd?void 0:i.Fd.deleteExtension(e)),o(t=>t.filter(t=>t.id!==e))}catch(e){f(e instanceof Error?e.message:"Failed to delete extension"),await y()}},[y]);(0,a.useEffect)(()=>{y(),null===i.Fd||void 0===i.Fd||i.Fd.isDirectoryEnabled().then(g),null===i.Fd||void 0===i.Fd||i.Fd.isExtensionsEnabled().then(v);let e=null===i.Fd||void 0===i.Fd?void 0:i.Fd.onExtensionsChanged(()=>{y()}),t=null===i.Fd||void 0===i.Fd?void 0:i.Fd.onExtensionSettingsChanged((e,t)=>{o(s=>s.map(s=>s.id===e?{...s,settings:{...s.settings,...t}}:s))});return()=>{null==e||e(),null==t||t()}},[y]);let N=(0,a.useCallback)(e=>s.find(t=>t.id===e),[s]),w=(0,a.useMemo)(()=>({extensions:s,isLoading:d,hasLoadedOnce:u,error:x,isDirectoryEnabled:p,isExtensionsEnabled:h,setExtensionSettings:j,deleteExtension:b,refreshExtensions:y,getExtensionById:N,checkExtensionCompatibility:l.So}),[b,x,s,N,p,h,d,y,j,u]);return(0,n.jsx)(r.Provider,{value:w,children:t})}},11500:(e,t,s)=>{s.d(t,{h:()=>d});var n=s(54568),i=s(18472),a=s(8027),l=s(11515),r=s(34059),o=s(71857);let d=e=>{let{size:t,imageSize:s,iconUrl:d="",syncSourceType:c,name:u,className:m,type:x="favicon"}=e,f=(0,n.jsx)(a.B,{letter:u,size:s,hideBorder:!0});return(0,n.jsx)(i.O,{size:t,className:m,children:"favicon"===x?(0,n.jsx)(l.d,{fadeInOnLoad:!0,url:d,size:s,fallbackSvg:f}):"external"===x?(0,n.jsx)(o.u,{style:{maxWidth:s,maxHeight:s},className:"object-contain",width:s,height:s,src:d||"",alt:"".concat(u," icon"),fallbackSvg:f,fadeInOnLoad:!0}):"syncSource"===x&&c?(0,n.jsx)(r.A9,{type:c,size:s}):(0,n.jsx)(o.o,{style:{maxWidth:s,maxHeight:s},className:"object-contain",width:s,height:s,src:d,alt:"".concat(u," icon"),fallbackSvg:f,fadeInOnLoad:!0})})}},42067:(e,t,s)=>{s.d(t,{l:()=>c,z:()=>m});var n=s(54568),i=s(52198),a=s(615),l=s(32987),r=s(7620),o=s(41417);let d=(0,a.F)("flex\n  w-fit\n  rounded-lg\n  p-2\n  px-4\n  gap-1\n  items-center\n  text-sm\n  border-0.5\n  border-border-200\n",{variants:{variant:{main:"text-accent-main-000 bg-bg-300",secondary:"text-accent-secondary-000 bg-bg-300",pro:"text-accent-pro-000 border-accent-pro-100 bg-accent-pro-900",danger:"text-danger-000 border-danger-100 bg-danger-900"}},defaultVariants:{variant:"main"}});function c(e){let{icon:t,iconClassName:s,message:a,customButton:c,cta:m,ctaHref:x,onCtaClick:f,onClose:p,variant:g,className:h,messageClassName:v}=e,y=t?(0,n.jsx)("div",{className:(0,l.A)("flex mr-2 shrink-0",s),children:r.createElement(t,{size:20})}):null,j=null;return p&&(j=(0,n.jsx)(o.$,{size:"icon_sm",variant:"ghost",onClick:p,children:(0,n.jsx)(i.X,{size:16})})),j=j?(0,n.jsx)("div",{children:j}):null,(0,n.jsxs)("div",{className:(0,l.A)(d({variant:g}),!!p&&"pr-2",h),children:[y,(0,n.jsx)("div",{className:(0,l.A)("grow leading-relaxed","danger"!==g&&"pro"!==g&&"text-text-000","danger"===g&&"text-danger-000","pro"===g&&"text-accent-pro-000",v),children:a}),(0,n.jsx)(u,{customButton:c,cta:m,ctaHref:x,onCtaClick:f,variant:"pro"===g?"flat":function(e){switch(e){case"main":return"primary";case"danger":return"danger";case"secondary":case"pro":return"outline"}}(g),className:(0,l.A)("pro"===g&&"!bg-accent-pro-100 border-accent-pro-100 hover:border-accent-pro-200 hover:bg-accent-pro-900"),size:"sm"}),j]})}function u(e){let{customButton:t,cta:s,ctaHref:i,onCtaClick:a,...l}=e,r=t;return!r&&s&&(i?r=(0,n.jsx)(o.$,{size:"default",...l,href:i,children:s}):a&&(r=(0,n.jsx)(o.$,{size:"default",...l,onClick:a,children:s}))),r?(0,n.jsx)("div",{className:"ml-2",children:r}):null}let m=e=>{let{className:t,children:s}=e;return(0,n.jsxs)("div",{className:(0,l.A)("border-border-300 bg-bg-300 mt-3 flex gap-2 rounded-lg border px-3 py-3",t),children:[(0,n.jsx)("div",{children:(0,n.jsx)(i.R2,{size:20,className:"text-accent-main-100"})}),(0,n.jsx)("p",{className:"text-text-100 text-sm tracking-tighter",children:s})]})}},43793:(e,t,s)=>{s.d(t,{X:()=>c});var n=s(54568),i=s(69916),a=s(41417),l=s(62101),r=s(7620),o=s(46760),d=s(62971);let c=e=>{let{extension:t,size:s="normal",style:c}=e,u=(0,o.A)(),{addError:m}=(0,i.Y)(),[x,f]=(0,r.useState)(null),[p,g]=(0,r.useState)(!0),[h,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(!t.id)return g(!1);try{let e=await (null===l.Fd||void 0===l.Fd?void 0:l.Fd.getIsUpdateAvailable(t.id,t.manifest))||null;f(e)}catch(e){m((0,n.jsx)(d.A,{defaultMessage:"Failed to check for extension updates",id:"qmTCOIrDRY",description:"Error message when checking for extension updates fails"}),{error:e})}finally{g(!1)}})()},[t,m]);let y=async()=>{if(t.id&&x){v(!0);try{await (null===l.Fd||void 0===l.Fd?void 0:l.Fd.installDxtFromDirectory(t.id,x))}catch(e){m((0,n.jsx)(d.A,{defaultMessage:"Failed to update extension",id:"II6Ozv49Lo",description:"Error message when extension update fails"}),{error:e})}finally{v(!1)}}};if(p||!x)return null;let j=u.formatMessage({defaultMessage:"Update available to v{version}. You are currently on v{currentVersion}.",id:"2Fd2dxtEBo",description:"Title for extension update button"},{version:x,currentVersion:t.manifest.version});return(0,n.jsx)(a.$,{variant:"primary",disabled:h,onClick:y,title:j,style:c,children:h?u.formatMessage({defaultMessage:"Updating...",id:"yugrR4jIsZ",description:"Button text while updating extension"}):"small"===s?u.formatMessage({defaultMessage:"Update",id:"rQoNAJyEVw",description:"Button to update extension (short version)"}):u.formatMessage({defaultMessage:"Update to {version}",id:"Wur112HVmK",description:"Button to update extension to specific version"},{version:x})})}},47838:(e,t,s)=>{s.d(t,{k:()=>l});var n=s(54568);s(7620);var i=s(8835),a=s(88185);let l=e=>{let{isDetailedView:t,directoryServer:s,handleAddRemoteServer:l,handleRemoveRemoteServer:r,handleConnectRemoteServer:o,handleDisconnectRemoteServer:d}=e,{getCorrespondingInstalledServer:c}=(0,a.Y5)(),u="remote"===s.type?c(s):null,m=!!u,x=!!(null==u?void 0:u.isConnected),f=!!u&&x&&!u.usedAuthentication;return(0,n.jsx)(i.i,{handleAdd:()=>l(s.uuid),handleRemove:()=>r(s.uuid),handleConnect:()=>o(s.uuid),handleDisconnect:()=>d(s.uuid),isInstalled:m,isConnected:x,isDetailedView:t,connectedByDefault:f})}},48700:(e,t,s)=>{s.d(t,{S:()=>f});var n=s(54568),i=s(69916),a=s(15046),l=s(41417),r=s(62101),o=s(14985),d=s(76761),c=s(24871),u=s(7620),m=s(46760),x=s(62971);let f=e=>{let{manifest:t,settings:s,onSave:f,onCancel:p,className:g}=e,h=(0,m.A)(),{addError:v}=(0,i.Y)(),[y,j]=(0,u.useState)({}),[b,N]=(0,u.useState)(!1),[w,C]=(0,u.useState)(!1),[M,k]=(0,u.useState)(!1);if((0,u.useEffect)(()=>{if(s.userConfig)j(s.userConfig);else if(t.user_config){let e={};for(let[s,n]of Object.entries(t.user_config))void 0!==n.default&&(e[s]=n.default);j(e)}},[t.user_config,s.userConfig]),!t.user_config)return null;let F=(e,t)=>{j(s=>({...s,[e]:t})),N(!0)},A=async()=>{C(!0);try{await f(y),N(!1),k(!0),setTimeout(()=>{k(!1)},1e4)}catch(e){v((0,n.jsx)(x.A,{defaultMessage:"Failed to save configuration",id:"k3HNr+oyR6",description:"Error message when extension configuration save fails"}),{error:e})}finally{C(!1)}};return(0,n.jsx)("div",{className:g,children:(0,n.jsxs)("div",{className:"break-inside-avoid",children:[Object.entries(t.user_config).map(e=>{let[t,s]=e;return(0,n.jsx)("div",{className:"mb-5",children:(0,n.jsxs)("label",{children:[(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("span",{className:"text-md",children:s.title}),s.required&&(0,n.jsx)("span",{className:"text-text-400 ml-1",children:(0,n.jsx)(x.A,{defaultMessage:"(Required)",id:"5Q3Kor4lDg",description:"Label indicating a configuration field is required"})})]}),s.description&&"boolean"!==s.type&&(0,n.jsx)("p",{className:"text-xs text-text-400 mt-2 mb-3",children:s.description}),(0,n.jsx)("div",{className:"mb-2 mt-2",children:((e,t)=>{let s=y[e],i="w-full px-3 py-2 border border-border-300/25 rounded-md text-sm text-text-100 bg-bg-100";switch(t.type){case"string":return(0,n.jsx)("input",{type:t.sensitive?"password":"text",value:s||"",onChange:t=>F(e,t.target.value),placeholder:t.description,className:i});case"number":return(0,n.jsx)("input",{type:"number",value:s||"",onChange:t=>F(e,t.target.value?Number(t.target.value):""),min:t.min,max:t.max,placeholder:t.description,className:i});case"boolean":return(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsx)(a.j,{checked:s||!1,onChange:t=>F(e,t.target.checked)}),(0,n.jsx)("span",{className:"text-sm text-text-300",children:t.description})]});case"directory":case"file":if(!t.multiple)return(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,n.jsx)("input",{type:"text",value:s||"",onChange:t=>F(e,t.target.value),placeholder:h.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(i," flex-1 w-auto")}),(0,n.jsx)(l.$,{variant:"secondary",onClick:async()=>{let s="directory"===t.type?await (null===r.un||void 0===r.un?void 0:r.un.getDirectoryPath(!1)):await (null===r.un||void 0===r.un?void 0:r.un.getFilePath(!1));s&&F(e,s[0])},className:"px-3 py-1.5",children:h.formatMessage({defaultMessage:"Browse",id:"0TPgIp3K/q",description:"Button to browse for file/directory"})})]});{let a=s||[];return(0,n.jsxs)("div",{children:[a.map((s,c)=>(0,n.jsxs)("div",{className:"flex gap-2 mb-2 items-center",children:[(0,n.jsx)("input",{type:"text",value:s,onChange:t=>{let s=[...a];s[c]=t.target.value,F(e,s)},placeholder:h.formatMessage({defaultMessage:"{type} path",id:"p8XbPZF2o4",description:"Placeholder for directory or file path input"},{type:"directory"===t.type?"Directory":"File"}),className:"".concat(i," flex-1 w-auto")}),(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:async()=>{let s="directory"===t.type?await (null===r.un||void 0===r.un?void 0:r.un.getDirectoryPath(!1)):await (null===r.un||void 0===r.un?void 0:r.un.getFilePath(!1));if(s){let t=[...a];t[c]=s[0],F(e,t)}},children:(0,n.jsx)(o.sj,{})}),(0,n.jsx)(l.$,{variant:"ghost",size:"icon",onClick:()=>{F(e,a.filter((e,t)=>t!==c))},children:(0,n.jsx)(d.u,{})})]},c)),(0,n.jsxs)(l.$,{variant:"secondary",onClick:()=>{F(e,[...a,""])},className:"mt-2",children:[(0,n.jsx)(c.c,{className:"mr-1.5",size:16}),h.formatMessage({defaultMessage:"Add {type}",id:"1ddlPuxY71",description:"Button to add a new path"},{type:t.type})]})]})}default:return null}})(t,s)})]})},t)}),(0,n.jsxs)("div",{className:"flex gap-3 mt-6 justify-between items-center",children:[p&&(0,n.jsx)(l.$,{variant:"secondary",onClick:p,disabled:w,children:h.formatMessage({defaultMessage:"Cancel",id:"zVjtFM8JfM",description:"Button to cancel configuration edit"})}),M&&(0,n.jsx)("span",{className:"text-sm text-accent-secondary-100",children:h.formatMessage({defaultMessage:"Changes saved",id:"jdKVJo/vQ6",description:"Message shown after configuration is saved"})}),!M&&(0,n.jsx)("div",{}),(0,n.jsx)(l.$,{variant:"primary",onClick:A,disabled:!b||w,children:h.formatMessage({defaultMessage:"Save",id:"NuymVHsb1A",description:"Button to save configuration"})})]})]})})}},50953:(e,t,s)=>{s.d(t,{u:()=>R});var n=s(54568),i=s(42067),a=s(41417),l=s(64359),r=s(9786),o=s(64786),d=s(90119),c=s(4705),u=s(58911),m=s(32987),x=s(27261),f=s.n(x),p=s(7620),g=s(62971),h=s(46760),v=s(92947),y=s(69055),j=s(60265),b=s(3354);let N=e=>{let{manifest:t}=e,{compatibility:s,isChecking:i}=(0,b.wH)({manifest:t}),a=(0,b.yo)(t,s);return t&&0!==a.length?(0,n.jsxs)("div",{className:"py-7 border-b-0.5 border-border-300",children:[(0,n.jsx)("h4",{className:"text-sm font-medium mb-2",children:(0,n.jsx)(g.A,{defaultMessage:"Requirements",id:"T/GrW3GRjO",description:"Extension requirements section header"})}),i?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-text-300",children:[(0,n.jsx)(y.E,{size:16,className:"animate-spin"}),(0,n.jsx)(g.A,{defaultMessage:"Checking requirements...",id:"B3WNGMnvjq",description:"Loading state while checking extension requirements"})]}):(null==s?void 0:s.compatible)?(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-success-100",children:[(0,n.jsx)(j.S,{size:16,weight:"bold"}),(0,n.jsx)(g.A,{defaultMessage:"All requirements met",id:"aTEJ6YhqYE",description:"Success message when all extension requirements are satisfied"})]}):(0,n.jsx)("div",{className:"space-y-2",children:a.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm ".concat(e.met?"text-success-100":"text-warning-600"),children:[e.met?(0,n.jsx)(j.S,{size:16,weight:"bold"}):(0,n.jsx)(c.i,{size:16,weight:"bold"}),(0,n.jsx)("span",{children:e.name})]},t))}),!(null==s?void 0:s.compatible)&&(0,n.jsx)("div",{className:"mt-3 p-3 bg-warning-50 dark:bg-warning-950 rounded-lg",children:(0,n.jsx)("p",{className:"text-sm text-warning-800 dark:text-warning-200",children:(0,n.jsx)(g.A,{defaultMessage:"This extension may not work correctly until all requirements are met.",id:"6EFoZgFJFB",description:"Warning message when extension requirements are not met"})})})]}):null};var w=s(70497);let C=e=>{let{markdown:t,className:s=""}=e;return t?(0,n.jsx)("div",{className:"".concat(s," [&_ul]:list-disc [&_ul]:pl-6 [&_ul]:my-2 [&_ol]:list-decimal [&_ol]:pl-6 [&_ol]:my-2 [&_li]:my-1 [&_p]:my-3 [&_p:first-child]:mt-0"),children:(0,n.jsx)(w.o,{className:"whitespace-pre-wrap",allowedElements:["p","br","strong","em","ul","ol","li","a","code","pre","h1","h2","h3","h4","h5","h6","blockquote"],components:{a:e=>{let{href:t,children:s}=e;if(!t||!t.startsWith("https://"))return(0,n.jsx)("span",{children:s});let i=String(s);return i===t||t.includes(i.replace(/\s/g,""))?(0,n.jsx)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-accent-secondary-100 hover:underline",children:s}):(0,n.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-accent-secondary-100 hover:underline",children:[s," (",new URL(t).hostname,")"]})}},children:t})}):null};var M=s(874),k=s(11500),F=s(97301),A=s(15046),E=s(37711),S=s(62101),z=s(43172),D=s(58070),_=s(37463),P=s(62942),O=s(40847),q=s.n(O),T=s(43793),B=s(37076),V=s(48700);let I=e=>{let{isOpen:t,onClose:s,extension:i,server:a}=e,l=!i||(0,z.OO)({manifest:i.manifest,userConfig:i.settings.userConfig}),r=(0,p.useCallback)(()=>{l||s()},[l,s]),o=(0,p.useCallback)(async e=>{if(!i)return;let t={...i.settings,userConfig:e};await (null===S.Fd||void 0===S.Fd?void 0:S.Fd.setExtensionSettings(i.id,t)),(0,z.OO)({manifest:i.manifest,userConfig:e})||s()},[i,s]);return i&&t&&a?(0,n.jsx)(B.aF,{isOpen:t,onClose:r,modalSize:"lg",title:(0,n.jsxs)("div",{className:"font-ui inline-flex flex-row gap-2 items-center text-xl",children:[(0,n.jsx)(g.A,{defaultMessage:"Configure",id:"9t1iivhk67"}),(0,n.jsxs)("div",{className:"inline-flex flex-row gap-1 items-center",children:[(0,n.jsx)(k.h,{size:30,imageSize:20,iconUrl:a.iconUrl,name:a.name,type:"external"}),(0,n.jsxs)("span",{className:"font-normal",children:[" ",a.name]})]})]}),children:(0,n.jsx)(V.S,{manifest:i.manifest,settings:i.settings,onSave:async e=>{await o(e)},onCancel:s})}):null},$=e=>{let{directoryServer:t}=e,s=(0,h.A)(),{extensions:i}=(0,M.O)(),l=(0,P.useRouter)(),r=i.find(e=>e.id===t.uuid),[o,d]=(0,p.useState)(!1),c=(0,p.useCallback)(()=>{r&&l.push("/settings/desktop/extensions/".concat(r.id))},[l,r]),u=(0,M.U)(),m=(0,D.Z)(t.uuid),x=(0,D.Z)(r);(0,p.useEffect)(()=>{m===t.uuid&&!x&&r&&(0,z.OO)({manifest:r.manifest,userConfig:r.settings.userConfig})&&d(!0)},[t.uuid,x,m,r]);let[f,v]=(0,p.useState)(null);if((0,p.useEffect)(()=>{null===S.Fd||void 0===S.Fd||S.Fd.onExtensionDownloadProgress((e,s,n,i)=>{e===t.uuid&&v({progress:s,rBytes:n,tBytes:i})})},[t.uuid]),(0,p.useEffect)(()=>{v(null)},[t.uuid]),(0,p.useEffect)(()=>{r&&f&&v(null)},[f,r]),!r&&null!==f){let e=s.formatMessage({defaultMessage:"Installing...",id:"r9ELLACQn2"});return(0,n.jsx)(_.P.div,{initial:{height:0},animate:{height:"auto"},className:"overflow-hidden",children:(0,n.jsx)("div",{className:"flex items-center justify-between bg-bg-300 rounded-lg px-4 py-3 gap-4 mt-4",children:(0,n.jsxs)("div",{className:"flex flex-col gap-1 w-full",children:[(0,n.jsxs)("div",{className:"flex gap-2 items-center",children:[f.tBytes?(0,n.jsx)("span",{className:"font-medium text-text-300 text-sm",children:e}):(0,n.jsx)(E.A,{className:"text-sm",children:e}),f.tBytes?(0,n.jsxs)("span",{className:"text-text-500 text-sm",children:[q()(f.rBytes,{maximumFractionDigits:1,locale:s.locale})," / ",q()(f.tBytes,{maximumFractionDigits:1,locale:s.locale})]}):null]}),(0,n.jsx)("div",{className:"bg-bg-500 w-full h-2 rounded-full p-0.5 overflow-hidden",children:(0,n.jsx)("div",{className:"bg-accent-secondary-200 h-full rounded-full transition-width duration-500",style:{width:"".concat(f.progress,"%")}})})]})})})}return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between bg-bg-300 rounded-lg px-4 py-3 gap-4 mt-4",children:[(0,n.jsx)("div",{className:"flex items-center gap-3",children:!r.settings.isEnabled&&(0,z.OO)({manifest:r.manifest,userConfig:r.settings.userConfig})?(0,n.jsx)("span",{className:"text-sm text-accent-secondary-100",children:s.formatMessage({defaultMessage:"This connector needs to be configured before it can be enabled.",id:"IhPSab4yuz",description:"Message shown when required config is missing"})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"inline-block",onClick:()=>{u(r.id)},children:(0,n.jsx)(A.j,{checked:r.settings.isEnabled,readOnly:!0})}),(0,n.jsx)("span",{className:"text-sm font-medium",children:r.settings.isEnabled?s.formatMessage({defaultMessage:"Enabled",id:"cnxLJKBabd",description:"Extension enabled status"}):s.formatMessage({defaultMessage:"Disabled",id:"4PQSGeQCas",description:"Extension disabled status"})})]})}),(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)(T.X,{extension:r}),(0,n.jsx)(a.$,{variant:"secondary",size:"sm",onClick:c,children:(0,n.jsx)(g.A,{defaultMessage:"Configure",id:"9t1iivhk67"})})]})]}),(0,n.jsx)(I,{isOpen:o,extension:r||null,server:t,onClose:()=>{d(!1)}})]}):null};var H=s(69517),U=s(47838),L=s(88185);let R=e=>{let{directoryServer:t,...s}=e,i=(0,d.V)();return(0,n.jsxs)(l.r,{containerClassName:"max-h-full min-h-0 px-4 -mx-4",className:"max-h-full px-4 -mx-4 pb-10",children:[(0,n.jsx)(W,{directoryServer:t,...s}),"local"===t.type&&(0,n.jsx)($,{directoryServer:t}),(0,n.jsx)(Z,{directoryServer:t}),"local"===t.type&&i?(0,n.jsx)(N,{manifest:t.manifest}):null,(0,n.jsx)(Q,{directoryServer:t})]})},W=e=>{let{directoryServer:t,...s}=e,l=(0,d.V)(),{isDirectoryEnabled:r}=(0,M.O)(),{iconUrl:o,name:u,oneLiner:m}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"flex sm:flex-row flex-col gap-y-6 gap-x-4 mt-[1.125rem]",children:[(0,n.jsxs)("div",{className:"flex flex-row no-wrap gap-4 grow",children:[(0,n.jsx)(k.h,{size:60,imageSize:34,iconUrl:o,syncSourceType:"firstParty"===t.type?t.syncSourceType:void 0,name:u,type:"local"===t.type?"external":"firstParty"===t.type?"syncSource":"favicon"}),(0,n.jsxs)("div",{className:"flex flex-col font-ui grow sm:mt-1",children:[(0,n.jsx)("p",{className:"text-text-100 text-2xl font-medium",children:u}),(0,n.jsx)("p",{className:"font-base text-text-400 leading-normal",children:m})]})]}),(0,n.jsx)("div",{className:"flex items-center",children:"remote"===t.type?(0,n.jsx)(U.k,{isDetailedView:!0,directoryServer:t,...s}):"firstParty"===t.type?(0,n.jsx)(F.N,{isDetailedView:!0,directoryServer:t,...s}):(0,n.jsx)(H.H,{isDetailedView:!0,directoryServer:t})})]}),"local"!==t.type||l?null:(0,n.jsx)(i.l,{variant:"secondary",className:"mt-6 w-full",message:(0,n.jsx)(g.A,{defaultMessage:"Get Claude for Desktop to use this extension",id:"pJ3vQABZxc"}),customButton:(0,n.jsx)(a.$,{href:"https://claude.ai/download",target:"_blank",children:(0,n.jsx)(g.A,{defaultMessage:"Download",id:"5q3qC0sC3r"})})}),"local"===t.type&&t.onDiskPath?(0,n.jsx)(i.l,{variant:"danger",className:"mt-6 w-full",message:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("h2",{className:"font-large-bold",children:(0,n.jsx)(g.A,{defaultMessage:"Only install extensions from developers you trust.",id:"J1DujH3Us6"})}),(0,n.jsx)("span",{children:(0,n.jsx)(g.A,{defaultMessage:"Installing will grant access to everything on your computer.",id:"V/YZmv6ycC"})})]}),icon:c.i}):null,"local"!==t.type||r?null:(0,n.jsx)(i.l,{variant:"secondary",className:"mt-6 w-full",message:(0,n.jsx)(g.A,{defaultMessage:"The Extensions Directory has been disabled on this device. Please contact your IT administrator for more information.",id:"uOwKLoFioe",description:"Message shown when viewing a local extension but the directory is disabled"})})]})},Z=e=>{let{directoryServer:t}=e,s=(0,h.A)(),i=(0,v.vx)(),{getCorrespondingInstalledServer:a}=(0,L.Y5)(),l=(0,d.V)(),r=(0,d.V)(o.Wq),c="remote"===t.type&&!!a(t),u="remote"===t.type&&!i&&!c,{description:x,toolNames:f,promptNames:p,author:y}=t;return(0,n.jsxs)("div",{className:"flex flex-col gap-7 py-7 border-b-0.5 border-border-300",children:[!!u&&(0,n.jsx)(J,{children:(0,n.jsx)(g.A,{defaultMessage:"Ask your admin to add this for your team.",id:"Pf4A5vNvrs"})}),"local"===t.type&&l&&!r&&(0,n.jsx)(J,{children:(0,n.jsx)(g.A,{defaultMessage:"To install this extension, update to the latest version of Claude Desktop",id:"B9KzONSVUz",description:"update claude for desktop prompt to install desktop extensions"})}),(0,n.jsxs)("div",{className:"flex flex-col gap-6",children:[!!(null==y?void 0:y.name)&&(0,n.jsx)("p",{className:"text-text-300 text-base",children:(0,n.jsx)(g.A,{defaultMessage:"Developed by <a></a>",id:"4MPJbn/XP2",values:{a:()=>(null==y?void 0:y.url)?(0,n.jsx)(es,{name:y.name,url:y.url}):y.name}})}),!!x&&(0,n.jsx)(C,{className:"text-text-300 text-base",markdown:x})]}),!!(f.length||p.length)&&(0,n.jsxs)("div",{className:(0,m.A)("grid gap-y-8 gap-x-4",f.length&&p.length?"grid-cols-1 sm:grid-cols-2":"grid-cols-1"),children:[!!f.length&&(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(X,{title:s.formatMessage({defaultMessage:"Tools",id:"nUT0LvZVOx"}),count:f.length}),(0,n.jsx)(Y,{items:f})]}),!!p.length&&(0,n.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,n.jsx)(X,{title:s.formatMessage({defaultMessage:"Prompts",id:"p7buKPIFPB"}),count:p.length}),(0,n.jsx)(Y,{items:p})]})]})]})},J=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"bg-bg-300 rounded-lg p-4 text-text-100 text-sm px-4 py-3",children:t})},Q=e=>{let{directoryServer:t}=e,{didCopy:s,copyToClipboard:i}=(0,r.C)(),l=(0,h.A)(),{version:o,license:d,author:c,documentation:u,support:m,privacyPolicy:x}=t,f="remote"===t.type?t.url:null,p=[...u?[{name:l.formatMessage({defaultMessage:"Documentation",id:"isGKnzG5uL"}),url:u}]:[],...m?[{name:l.formatMessage({defaultMessage:"Support",id:"HqRNN8pEq/"}),url:m}]:[],...x?[{name:l.formatMessage({defaultMessage:"Privacy Policy",id:"vx0nkZ8xpy"}),url:x}]:[]];return(0,n.jsxs)("div",{className:"flex flex-col gap-4 py-7",children:[(0,n.jsx)(K,{children:(0,n.jsx)(g.A,{defaultMessage:"Details",id:"Lv0zJuL1jH"})}),(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[!!o&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"Version",id:"I3b4hnFnDd"}),children:o}),!!d&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"License",id:"HBxXD/YXNW"}),children:d}),!!(null==c?void 0:c.name)&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"Author",id:"tWkQ2JF/jQ"}),children:c.url?(0,n.jsx)(es,{name:c.name,url:c.url}):c.name}),!!f&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"Connector URL",id:"CV2vjsP6Ub"}),children:(0,n.jsxs)("div",{className:"flex flex-row items-center gap-1",children:[f,(0,n.jsx)(a.$,{size:"icon_sm",variant:"ghost",className:"bg-bg-100 hover:opacity-100 -my-2",onClick:()=>void i(f),children:(0,n.jsx)(r.u,{didCopy:s})})]})}),!!p.length&&(0,n.jsx)(et,{subheading:l.formatMessage({defaultMessage:"More info",id:"HOsSgXORHL"}),children:p.map(e=>(0,n.jsx)(es,{name:e.name,url:e.url},e.name))})]})]})},Y=e=>{var t,s;let{items:i}=e,a=p.useRef(null),l=p.useRef(null),[r,o]=(0,p.useState)(!1),[d,c]=(0,p.useState)(((null==(t=l.current)?void 0:t.offsetHeight)||0)>((null==(s=a.current)?void 0:s.offsetHeight)||0));return(0,p.useEffect)(()=>{var e,t;c(((null==(e=l.current)?void 0:e.offsetHeight)||0)>((null==(t=a.current)?void 0:t.offsetHeight)||0))},[i]),(0,n.jsxs)("div",{className:"flex flex-col gap-2.5 items-start",children:[(0,n.jsx)("div",{ref:a,className:(0,m.A)("w-full",!r&&"max-h-[6.5rem] overflow-hidden"),children:(0,n.jsx)("div",{ref:l,className:(0,m.A)("flex flex-row gap-2.5 flex-wrap"),children:i.map(e=>(0,n.jsx)(G,{children:e},e))})}),d&&!r&&(0,n.jsx)("button",{className:"text-text-300 hover:text-text-200 opacity-50 text-sm",onClick:()=>o(!0),children:(0,n.jsx)(g.A,{defaultMessage:"View all",id:"pFK6bJU0EM"})})]})},G=e=>{let{children:t}=e;return(0,n.jsx)("div",{className:"inline-flex items-center h-7 rounded-full px-3 bg-bg-300 border-border-300 border-0.5 min-w-0",children:(0,n.jsx)("p",{className:"text-text-300 text-sm overflow-hidden text-ellipsis",children:t})})},X=e=>{let{count:t,title:s}=e;return(0,n.jsxs)("div",{className:"flex flex-row items-center gap-2 mb-0.5",children:[(0,n.jsx)(K,{children:s}),(0,n.jsx)("div",{className:"flex items-center rounded text-[0.8125rem] text-text-500 h-[1.125rem] px-[0.3125rem] bg-bg-300",children:t})]})},K=e=>{let{children:t}=e;return(0,n.jsx)("h3",{className:"text-text-100 font-medium text-base",children:t})},ee=e=>{let{children:t}=e;return(0,n.jsx)("h3",{className:"text-text-300 font-medium text-sm mb-0.5",children:t})},et=e=>{let{subheading:t,children:s}=e;return(0,n.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,n.jsx)(ee,{children:t}),(0,n.jsx)("div",{className:"flex flex-col gap-1 text-text-300 text-sm",children:s})]})},es=e=>{let{name:t,url:s}=e;return(0,n.jsxs)(f(),{href:s,target:"_blank",className:"inline-flex items-center gap-1 text-accent-secondary-200 hover:text-accent-secondary-100",children:[t,(0,n.jsx)(u.k,{size:16})]})}},55323:(e,t,s)=>{s.d(t,{E:()=>n});function n(){var e,t;if(!(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron))return null;let s=window.process;return{type:s.type||"",arch:s.arch||"",platform:s.platform||"",versions:s.versions||{},isAppPackaged:"true"===s.isAppPackaged,version:s.version||"",isInternalBuild:"true"===s.isInternalBuild}}},62101:(e,t,s)=>{var n,i,a,l,r,o,d,c,u;s.d(t,{Fd:()=>g,TQ:()=>p,W$:()=>v,YQ:()=>x,a8:()=>f,lX:()=>y,oO:()=>m,un:()=>h});let m=null==(n=globalThis["claude.settings"])?void 0:n.AppConfig,x=null==(i=globalThis["claude.settings"])?void 0:i.Startup,f=null==(a=globalThis["claude.settings"])?void 0:a.GlobalShortcut,p=null==(l=globalThis["claude.settings"])?void 0:l.MCP,g=null==(r=globalThis["claude.settings"])?void 0:r.Extensions,h=null==(o=globalThis["claude.settings"])?void 0:o.FilePickers;null==(d=globalThis["claude.settings"])||d.Misc;let v=null==(c=globalThis["claude.settings"])?void 0:c.AppPreferences,y=null==(u=globalThis["claude.settings"])?void 0:u.AppFeatures},69517:(e,t,s)=>{s.d(t,{H:()=>j});var n=s(54568),i=s(64786),a=s(90119),l=s(60265),r=s(7620),o=s(874),d=s(98518),c=s(41417),u=s(1385),m=s(12072),x=s(62101),f=s(32987),p=s(46760),g=s(62971),h=s(3354),v=s(55323);let y=e=>{let{directoryServer:t}=e,s=(0,p.A)(),{track:i}=(0,d.st)(),[{installed:a,progress:l},o]=(0,r.useState)({installed:null,progress:null}),{compatibility:y}=(0,h.wH)({manifest:t.manifest}),j=(null==y?void 0:y.compatible)===!1,b=(0,h.yo)(t.manifest,y).filter(e=>!e.met);(0,r.useEffect)(()=>{null===x.Fd||void 0===x.Fd||x.Fd.onExtensionDownloadProgress((e,s)=>{e===t.uuid&&o({installed:!1,progress:s})})},[t.uuid]),(0,r.useEffect)(()=>{o({installed:null,progress:null});let e=()=>{null===x.Fd||void 0===x.Fd||x.Fd.getInstalledExtensionsWithState().then(e=>{let s=e.some(e=>e.id===t.uuid);o(e=>({installed:s,progress:s?null:e.progress}))})};return e(),null===x.Fd||void 0===x.Fd?void 0:x.Fd.onExtensionsChanged(e)},[t.uuid]);let N=(0,r.useCallback)(async()=>{if(a)null===x.Fd||void 0===x.Fd||x.Fd.deleteExtension(t.uuid),o({installed:null,progress:null});else{var e,s,n;t.onDiskPath?(null===x.Fd||void 0===x.Fd||x.Fd.installExtensionFromPreview(t.uuid,t.onDiskPath),o({installed:null,progress:null})):null===x.Fd||void 0===x.Fd||x.Fd.installDxtFromDirectory(t.uuid,null);let a=await (null===x.Fd||void 0===x.Fd?void 0:x.Fd.getInstalledExtensionsWithState()),l=(null!=(n=null==a?void 0:a.length)?n:0)+1,r=(0,v.E)();i({event_key:"desktop_dxt_installed",extension_name:t.name,extension_author:(null==(e=t.author)?void 0:e.name)||"",extension_id:t.uuid,event_source:t.onDiskPath?"local_file":"directory",total_extensions_installed:l,app_version:(null==r?void 0:r.version)||"",extension_version:(null==(s=t.manifest)?void 0:s.version)||""})}},[t,a,i]);if(!1===a&&null!==l)return null;let w=null===a,C=(0,n.jsx)(c.$,{variant:"primary",size:"unset",className:(0,f.A)("!rounded-lg !text-sm relative h-8 rounded-md px-3 active:scale-[0.985] whitespace-nowrap !text-xs transition-[min-width] duration-200",null!==l&&"min-w-[8rem] bg-primary disabled:opacity-100","min-w-[6rem]"),onClick:N,disabled:null!==l||null===a||j,children:a?(0,n.jsx)(g.A,{defaultMessage:"Uninstall",id:"a8npXIgle+"}):w?(0,n.jsx)(u.j,{width:60,height:12}):(0,n.jsx)(g.A,{defaultMessage:"Install",id:"ubmFc8rrea"})});if(j&&!a){let e;if(0===b.length)e=s.formatMessage({defaultMessage:"This extension is not compatible with your device.",id:"DyWnSo/uD3"});else if(1===b.length)e=s.formatMessage({defaultMessage:"This extension requires {requirement}.",id:"RWZ5Obf4In"},{requirement:b[0].name});else{let t=b.map(e=>e.name).join(", ");e=s.formatMessage({defaultMessage:"This extension requires: {requirements}.",id:"Tiuglra9gk"},{requirements:t})}return(0,n.jsx)(m.Tooltip,{tooltipContent:e,children:(0,n.jsx)("span",{className:"inline-block",children:C})})}return C},j=e=>{let{isDetailedView:t,directoryServer:s}=e,r=(0,a.V)(i.Wq),{extensions:d,isDirectoryEnabled:c}=(0,o.O)(),u=d.some(e=>e.id===s.uuid);if(t)if(r&&c)return(0,n.jsx)(y,{directoryServer:s});else return null;return u?(0,n.jsx)(l.S,{size:16,className:"transition-opacity m-2 text-accent-secondary-100"}):null}},97301:(e,t,s)=>{s.d(t,{N:()=>l});var n=s(54568),i=s(45270),a=s(8835);let l=e=>{let{isDetailedView:t,directoryServer:s,handleAddFirstPartyServer:l,handleRemoveFirstPartyServer:r,handleConnectFirstPartyServer:o,handleDisconnectFirstPartyServer:d}=e,{syncSourceType:c}=s,{enabledForOrg:u,connected:m}=(0,i.Ou)()[c]||{};return(0,n.jsx)(a.i,{handleAdd:()=>l(c),handleRemove:()=>r(c),handleConnect:()=>o(c),handleDisconnect:()=>d(c),isInstalled:u,isConnected:m,isDetailedView:t,connectedByDefault:!1})}}}]);