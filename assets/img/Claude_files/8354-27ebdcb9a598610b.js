try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},s=(new e.Error).stack;s&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[s]="a3dd64b6-3c77-4089-9f1a-719a8d0847f8",e._sentryDebugIdIdentifier="sentry-dbid-a3dd64b6-3c77-4089-9f1a-719a8d0847f8")}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8354],{5060:(e,s,t)=>{t.d(s,{W:()=>l});var a=t(7620);function l(e,s,t){let l=(0,a.useRef)(null),n=(0,a.useRef)(s);return n.current=s,(0,a.useEffect)(()=>{if((null==t?void 0:t.enabled)===!1)return;let s=(null==t?void 0:t.element)||l.current||document,a=e=>{n.current(e)};return s.addEventListener(e,a,!0),()=>{s.removeEventListener(e,a,!0)}},[e,null==t?void 0:t.element,null==t?void 0:t.enabled]),l}},11207:(e,s,t)=>{t.d(s,{V:()=>d,z:()=>o});var a=t(55428),l=t(27062),n=t(21036),i=t(7620),r=t(75006);function d(){let{client:e}=(0,n.useStatsigClient)();return!!(0,a.O0)()||e.getExperiment("artifacts_gallery").get("enabled",!1)}function o(){let e=(0,l.T9)("gallery_artifacts_config","original_to_localized_artifact_ids",(0,i.useMemo)(()=>({}),[]),r.z.record(r.z.string()));return 0===Object.keys(e).length?null:{original_to_localized_artifact_ids:e}}},14961:(e,s,t)=>{t.d(s,{DB:()=>c,jc:()=>u});var a=t(54568),l=t(52198),n=t(6),i=t.n(n),r=t(56839),d=t(7620);let o=e=>{let{title:s,children:t,trigger:n,value:d}=e,o=i()();return(0,a.jsxs)(r.q7,{className:"AccordionItem",value:null!=d?d:o,children:[(0,a.jsx)(r.Y9,{className:"AccordionHeader",children:(0,a.jsxs)(r.l9,{className:"group flex w-full items-center",children:[(0,a.jsx)("div",{className:"flex-1",children:s}),null!=n?n:(0,a.jsx)(l.OM,{size:24,className:'ml-2 transition-transform duration-300 group-data-[state="open"]:rotate-45'})]})}),(0,a.jsx)(r.UC,{className:'overflow-hidden data-[state="closed"]:animate-[slide-up_300ms_ease-out] data-[state="open"]:animate-[slide-down_300ms_ease-out]',children:t})]})},c=e=>{let{items:s,className:t,type:l="single"}=e;return(0,a.jsx)(r.bL,{className:t,type:l,collapsible:!0,children:s.map((e,s)=>(0,a.jsx)(o,{title:e.title,trigger:e.trigger,value:e.value,children:e.children},s))})},u=e=>{let{items:s,className:t,value:l,onValueChange:n,borderElement:i}=e;return(0,a.jsx)(r.bL,{value:l,onValueChange:n,className:t,type:"single",children:s.map((e,t)=>(0,a.jsxs)(d.Fragment,{children:[(0,a.jsx)(o,{title:e.title,trigger:e.trigger,value:e.value,children:e.children},t),t!==s.length-1&&i?i:null]},t))})}},16276:(e,s,t)=>{t.d(s,{U:()=>I});var a=t(54568),l=t(98518),n=t(1761),i=t(52198),r=t(41417),d=t(56370),o=t(27062),c=t(7620),u=t(46760),x=t(62971),m=t(81527),f=t(69916),h=t(44077);function g(e){let{isOpen:s,onClose:t,project:l}=e,{addError:n}=(0,f.Y)(),i=(0,u.A)(),{mutateAsync:r}=(0,m.sS)(l.uuid),d=(0,c.useCallback)(async()=>{try{await r({is_archived:!0})}catch(e){throw n(i.formatMessage({defaultMessage:"Could not archive",id:"3O1N877xLt"}),{error:e}),e}},[r,n,i]);return(0,a.jsx)(h.R,{isOpen:s,onClose:t,onConfirm:d,title:i.formatMessage({defaultMessage:"Archive project",id:"sxTTUDY6HD"}),message:i.formatMessage({defaultMessage:"Are you sure you want to archive {projectName}?",id:"1BieCt3ylM"},{projectName:l.name}),confirmText:i.formatMessage({defaultMessage:"Archive",id:"hrgo+EleAn"}),variant:"danger",autoFocus:!0})}var p=t(62942);function j(e){let{isOpen:s,onClose:t,project:l}=e,{addError:n,addSuccess:i}=(0,f.Y)(),r=(0,u.A)(),d=(0,p.usePathname)(),o=(0,p.useRouter)(),{mutateAsync:c,isPending:x}=(0,m.eW)(l.uuid),g=async()=>{try{await c(),i(r.formatMessage({defaultMessage:"Project deleted successfully",id:"UIJxB9dUFp"})),d==="/project/".concat(l.uuid)&&o.push("/projects")}catch(e){n(r.formatMessage({defaultMessage:"Could not delete",id:"njF5218LQD"}),{error:e})}};return(0,a.jsx)(h.R,{isOpen:s,onClose:t,onConfirm:g,title:r.formatMessage({defaultMessage:"Delete project",id:"f2FD7U33A1"}),message:r.formatMessage({defaultMessage:"Are you sure you want to delete {projectName}?",id:"yc7hx3U5ir"},{projectName:l.name}),confirmText:r.formatMessage({defaultMessage:"Delete",id:"K3r6DQW7h+"}),variant:"danger",isLoading:x,testId:"delete-project-confirm-button"})}var v=t(15964),b=t(37076);function y(e){let{isOpen:s,onClose:t,project:l}=e,[n,i]=(0,c.useState)(l.name),[d,o]=(0,c.useState)(l.description),h=(0,u.A)(),{addError:g}=(0,f.Y)(),{mutateAsync:p}=(0,m.sS)(l.uuid),j=async()=>{try{await p({name:n,description:d}),t()}catch(e){g(h.formatMessage({defaultMessage:"Error updating project, please try again later",id:"eLzspFmHkT"}),{error:e})}};return(0,a.jsxs)(b.aF,{isOpen:s,onClose:t,modalSize:"md",children:[(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)("h2",{className:"font-xl-bold",children:(0,a.jsx)(x.A,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})})}),(0,a.jsxs)("div",{className:"mb-6 mt-3",children:[(0,a.jsx)(v.ks,{className:"mb-4 w-full",label:h.formatMessage({defaultMessage:"Name",id:"HAlOn1ZsuY"}),value:n,onChange:e=>i(e.target.value),required:!0}),(0,a.jsx)(v.fs,{label:h.formatMessage({defaultMessage:"Description",id:"Q8Qw5BZ1VA"}),value:d,onChange:e=>o(e.target.value),minRows:6,required:!0,className:"max-h-60 overflow-auto"})]}),(0,a.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,a.jsx)(r.$,{variant:"secondary",onClick:t,children:(0,a.jsx)(x.A,{defaultMessage:"Cancel",id:"47FYwba+bI"})}),(0,a.jsx)(r.$,{onClick:()=>{j()},children:(0,a.jsx)(x.A,{defaultMessage:"Save",id:"jvo0vs3nF0"})})]})]})}var w=t(42977),M=t(56084),N=t(90510),_=t(77101),C=t(41932),A=t(52909);function E(){let e=(0,w._)(["\n  text-text-400\n  text-sm\n  font-medium\n"]);return E=function(){return e},e}function k(){let e=(0,w._)(["\n  text-xs\n  font-normal\n"]);return k=function(){return e},e}let S=e=>{let{syncSource:s}=e;return s.type===_.v8.GDRIVE?(e=>(0,a.jsx)("option",{value:"sync-".concat(e.uuid),children:e.status.extra||(0,a.jsx)(x.A,{defaultMessage:"Unknown Google Drive document",id:"DjaaH+4Tyz"})},"sync-".concat(e.uuid)))(s):s.type===_.v8.GITHUB?(e=>{let{owner:s,repo:t}=e.config,l="".concat(s,"/").concat(t);return(0,a.jsx)("option",{value:"sync-".concat(e.uuid),children:l},"sync-".concat(e.uuid))})(s):void 0},z=N.J.label(E()),O=N.J.div(k());function P(e){let{isOpen:s,onClose:t,projectUuid:l,organizationUuid:n}=e,[i,r]=(0,c.useState)(),[d,o]=(0,c.useState)(),[u,f]=(0,c.useState)(),[h,g]=(0,c.useState)(),[p,j]=(0,c.useState)(!1),[y,w]=(0,c.useState)(),[N,_]=(0,c.useState)(),[E,k]=(0,c.useState)(),{mutateAsync:P}=(0,m.GQ)(n,l),{data:I}=(0,C.MO)(l,!!l&&s),{data:L}=(0,C.uE)(l,!!l&&s),{data:T}=(0,A.CO)(l,!1,!!l&&s),D=async()=>{await P({category:i||"",notes:d,reporter_name:h,reporter_email:u,opt_out_of_training:p,doc_uuid:y,file_uuid:N,sync_source_uuid:E}),r(void 0),o(void 0),w(void 0),_(void 0),k(void 0),g(void 0),f(void 0),j(!1),t(!0)},R=(I&&I.length>0||L&&L.length>0||T&&T.length>0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(z,{children:[(0,a.jsx)(x.A,{defaultMessage:"Specific document, file, or source (optional)",id:"axKp3B/R/i"}),(0,a.jsx)(O,{children:(0,a.jsx)(x.A,{defaultMessage:"Select a specific document, file, or sync source in this project to report",id:"UhG56XNcMi"})})]}),(0,a.jsxs)(v.l6,{value:y?"doc-".concat(y):N?"file-".concat(N):E?"sync-".concat(E):"select-item",onChange:e=>{let s=e.target.value;"select-item"===s?(w(void 0),_(void 0),k(void 0)):s.startsWith("doc-")?(w(s.substring(4)),_(void 0),k(void 0)):s.startsWith("file-")?(_(s.substring(5)),w(void 0),k(void 0)):s.startsWith("sync-")&&(k(s.substring(5)),w(void 0),_(void 0))},children:[(0,a.jsx)("option",{value:"select-item",children:(0,a.jsx)(x.A,{defaultMessage:"Select a document, file, or source (optional)",id:"uH9yKzuAxu"})}),I&&I.length>0&&(0,a.jsx)("optgroup",{label:"Documents",children:I.map(e=>(0,a.jsx)("option",{value:"doc-".concat(e.uuid),children:e.file_name},"doc-".concat(e.uuid)))}),L&&L.length>0&&(0,a.jsx)("optgroup",{label:"Files",children:L.map(e=>(0,a.jsx)("option",{value:"file-".concat(e.file_uuid),children:e.file_name},"file-".concat(e.file_uuid)))}),T&&T.length>0&&(0,a.jsx)("optgroup",{label:"Sync Sources",children:T.map(e=>(0,a.jsx)(S,{syncSource:e},"syncs-".concat(e.uuid)))})]})]});return(0,a.jsx)(b.aF,{modalSize:"md",isOpen:s,onClose:t,hasCloseButton:!0,title:(0,a.jsx)("span",{className:"font-claude-response font-medium",children:(0,a.jsx)(x.A,{defaultMessage:"Report project",id:"i+TY5eOB+b"})}),children:(0,a.jsx)(M.d,{category:i,setCategory:r,notes:d,setNotes:o,reporterEmail:u,setReporterEmail:f,reporterName:h,setReporterName:g,optOutOfTraining:p,setOptOutOfTraining:j,onSubmit:D,onClose:()=>t(!1),additionalFields:R})})}let I=e=>{let{fullMenu:s=!1,star:t=!0,project:f,buttonSize:h="icon_sm",open:p,onOpenChange:v}=e,b=(0,u.A)(),{track:w}=(0,l.st)(),[M,N]=(0,c.useState)(!1),[_,C]=(0,c.useState)(!1),[A,E]=(0,c.useState)(!1),[k,S]=(0,c.useState)(!1),{mutate:z}=(0,m.sS)(f.uuid),O=null!==f.archived_at,{value:I}=(0,o.fS)("project_deletion_button"),L=(0,n.mV)(),{account:T,activeOrganization:D}=(0,n.YL)(),R=(null==f?void 0:f.creator.uuid)===(null==T?void 0:T.uuid);return R||t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.ms,{align:"end",open:p,onOpenChange:v,trigger:(0,a.jsx)(r.$,{variant:"ghost",className:"active:!scale-100 pointer-events-auto",size:h,onClick:e=>{e.stopPropagation(),e.preventDefault()},onMouseDown:e=>{e.stopPropagation(),e.preventDefault()},"aria-label":f.name?b.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:f.name}):b.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,a.jsx)(i.FO,{})}),unstyledTrigger:!0,children:(0,a.jsxs)("div",{children:[t&&(0,a.jsx)(d.tJ,{"data-testid":"star-project-trigger",onSelect:()=>{let e=!f.is_starred;z({is_starred:e}),w({event_key:e?"claudeai.projects.starred":"claudeai.projects.unstarred",project_uuid:f.uuid,project_name:f.name})},icon:f.is_starred?(0,a.jsx)(i.BQ,{}):(0,a.jsx)(i.FE,{}),children:f.is_starred?(0,a.jsx)(x.A,{defaultMessage:"Unstar",id:"Y5zRLWgCMP"}):(0,a.jsx)(x.A,{defaultMessage:"Star",id:"VwapsmdMes"})}),R&&(0,a.jsxs)(a.Fragment,{children:[!O&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.tJ,{"data-testid":"rename-project-trigger",onSelect:()=>N(!0),icon:(0,a.jsx)(i.ff,{}),children:(0,a.jsx)(x.A,{defaultMessage:"Edit details",id:"BVWzJ5FL/Y"})}),L&&(0,a.jsx)(d.tJ,{onSelect:()=>S(!0),icon:(0,a.jsx)(i.Gb,{}),children:(0,a.jsx)(x.A,{defaultMessage:"Report",id:"x5Tz6MZH82"})}),(0,a.jsx)(d.DG,{}),s&&(0,a.jsx)(d.tJ,{"data-testid":"archive-project-trigger",onSelect:()=>{null==v||v(!1),setTimeout(()=>C(!0),100)},icon:(0,a.jsx)(i.Td,{}),children:(0,a.jsx)(x.A,{defaultMessage:"Archive",id:"hrgo+EleAn"})}),I&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d.tJ,{danger:!0,"data-testid":"delete-project-trigger",onSelect:()=>{null==v||v(!1),setTimeout(()=>E(!0),100)},icon:(0,a.jsx)(i.E9,{}),children:(0,a.jsx)(x.A,{defaultMessage:"Delete",id:"K3r6DQW7h+"})})})]}),O&&s&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d.tJ,{onClick:()=>{z({is_archived:!1})},icon:(0,a.jsx)(i.Td,{}),children:(0,a.jsx)(x.A,{defaultMessage:"Unarchive",id:"ftDYZo4V2C"})})})]})]})}),(0,a.jsx)(y,{isOpen:M,onClose:()=>N(!1),project:f}),(0,a.jsx)(g,{isOpen:_,onClose:()=>C(!1),project:f}),(0,a.jsx)(j,{isOpen:A,onClose:()=>E(!1),project:f}),(0,a.jsx)(P,{isOpen:k,onClose:()=>S(!1),projectUuid:f.uuid,organizationUuid:null==D?void 0:D.uuid})]}):null}},20163:(e,s,t)=>{t(54568),t(94904),t(12072),t(7620)},27271:(e,s,t)=>{t.d(s,{O:()=>d});var a=t(54568),l=t(1761),n=t(93877),i=t(42252);let r=e=>{var s,t,l;let{account:r,size:d,variant:o,iconVariant:c}=e;if(void 0!==c)return(0,a.jsx)(i.h,{variant:c,size:{xs:16,sm:28,md:32,lg:40,xl:64}[null!=d?d:"md"]});let u=null!=(l=null!=(t=null!=(s=null==r?void 0:r.full_name)?s:null==r?void 0:r.display_name)?t:null==r?void 0:r.email_address)?l:"";return(0,a.jsx)(n.e,{name:u,size:d,variant:o})},d=e=>{let{size:s,variant:t,iconVariant:n}=e,{account:i}=(0,l.YL)(),d=(0,l.O9)(),o=(0,l.zc)();return(0,a.jsx)(r,{account:i||null,size:s,variant:null!=t?t:d||o?"pro":"default",iconVariant:n})}},28354:(e,s,t)=>{t.d(s,{r:()=>eG,B:()=>eq});var a=t(54568),l=t(98518),n=t(1761),i=t(52198),r=t(21740),d=t(40359),o=t(41417),c=t(12072),u=t(64786),x=t(27062),m=t(5060),f=t(90119),h=t(99272),g=t(93681),p=t(21036),j=t(32987),v=t(37463),b=t(27261),y=t.n(b),w=t(7620),M=t(62971),N=t(46760),_=t(81527),C=t(91961),A=t(98878),E=t(62942),k=t(45483),S=t(37076),z=t(48367),O=t(57383);let P=e=>{let{isOpen:s,onClose:t}=e,{account:l}=(0,n.YL)(),i=(0,k.E)(),r=(0,E.useParams)(),{value:d}=(0,x.fS)("beam_skibidi_rizz");return((0,w.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&(e.preventDefault(),t())};return s&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[s,t]),l)?(0,a.jsx)(S.aF,{isOpen:s,onClose:t,modalSize:"xl",backgroundColor:"bg-transparent",className:"!shadow-none border-none !p-0",children:(0,a.jsx)(O._A,{willRedirectOnSubmit:!0,onCreate:async e=>(t(),r.beamUuid,await i(e)),children:(0,a.jsx)(z.V,{placement:"modal"})})}):null},I=e=>{let{openNewChatModal:s}=e,t=(0,E.usePathname)(),a=(0,w.useCallback)(()=>{"/new"!==t&&(t.startsWith("/code")||s())},[s,t]);return(0,A.z4)(A.pn.cmdK,a),(0,w.useEffect)(()=>{let e=e=>{var s;let t=(0,C.cX)()?e.metaKey:e.ctrlKey;(null==(s=e.key)?void 0:s.toLowerCase())==="k"&&t&&(e.preventDefault(),a())};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[a]),null},L=()=>{let[e,s]=(0,w.useState)(!1);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I,{openNewChatModal:()=>s(!0)}),(0,a.jsx)(P,{isOpen:e,onClose:()=>s(!1)})]})};var T=t(80731),D=t(11207),R=t(9916);t(20163);var F=t(85201),U=t(42977),J=t(21956),V=t(10158),B=t(35290),W=t(80929),G=t(90510),Y=t(56370),K=t(58911),H=t(62094),Z=t(16054),Q=t(60265),X=t(37457),$=t.n(X),q=t(91965),ee=t(53600);t(74027);var es=t(18483),et=t(55428),ea=t(77316);let el={type:"language",languageDisplay:"standard"},en=(0,w.forwardRef)((e,s)=>{let t=(0,N.A)(),{isPending:l,mutateAsync:n}=(0,ea.jC)(),i=t.locale,r=async e=>{e!==i&&(await n({locale:e}),window.location.reload())},d=(0,w.useMemo)(()=>{let e=t.formatters.getDisplayNames(es.Xn,el),s=new Intl.Collator(es.Xn);return es.SC.map(s=>({locale:s,name:e.of(s),localName:t.formatters.getDisplayNames(s,el).of(s)})).toSorted((e,t)=>s.compare(e.name,t.name))},[t.formatters]);return(0,a.jsxs)(Y.MS,{children:[(0,a.jsxs)(Y.Wn,{ref:s,className:"text-sm",children:[(0,a.jsx)(M.A,{defaultMessage:"Language",id:"y1Z3orIe9Z"}),(0,a.jsx)(H.K,{size:16})]}),(0,a.jsx)(Y.cm,{children:(0,a.jsxs)(Y.FV,{sideOffset:4,children:[d.map(e=>(0,a.jsxs)(Y.tJ,{onSelect:()=>r(e.locale),disabled:l,lang:e.locale,children:[(0,a.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:e.localName}),e.locale===i?(0,a.jsx)(Q.J,{size:16}):(0,a.jsx)("div",{className:"h-4 w-4"})]},e.locale)),(0,et.O0)()&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.DG,{}),Object.keys(es.UW).map(e=>(0,a.jsxs)(Y.tJ,{onSelect:()=>r(e),disabled:l,lang:"en",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 pr-4 text-sm capitalize",children:es.UW[e].name}),e===i?(0,a.jsx)(Q.J,{size:16}):(0,a.jsx)("div",{className:"h-4 w-4"})]},e))]})]})})]})});en.displayName="LanguagePicker";var ei=t(55554),er=t(85544);let ed=()=>{let{selectedTier:e,setSelectedTier:s,isTierSelectorEnabled:t,shouldOverrideTokenLimits:l,setShouldOverrideTokenLimits:n,shouldOverrideFeatureAccess:i,setShouldOverrideFeatureAccess:r}=(0,ei.t)();if(!t)return null;let d=[{tier:er.d7.FREE,label:(0,a.jsx)(M.A,{defaultMessage:"Claude Free",id:"HALZF/VbRH"})},{tier:er.d7.PRO,label:(0,a.jsx)(M.A,{defaultMessage:"Claude Pro",id:"SIgPaVikdi"})},{tier:er.d7.ENTERPRISE,label:(0,a.jsx)(M.A,{defaultMessage:"Claude Enterprise",id:"MwY0j6lAfZ"})},{tier:er.d7.MAX,label:(0,a.jsx)(M.A,{defaultMessage:"Claude Max",id:"PEXDsCWhYl"})}];return(0,a.jsxs)(Y.MS,{children:[(0,a.jsxs)(Y.Wn,{className:"text-sm",children:[(0,a.jsx)(M.A,{defaultMessage:"Override plan tier",id:"M2Y2OeFN2P"}),(0,a.jsx)(H.K,{size:16})]}),(0,a.jsx)(Y.cm,{children:(0,a.jsxs)(Y.FV,{sideOffset:4,children:[d.map(t=>(0,a.jsx)(Y.tJ,{onSelect:()=>s(t.tier),className:"text-sm",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[t.label,e===t.tier&&(0,a.jsx)(Q.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})},t.tier)),(0,a.jsx)(Y.DG,{}),(0,a.jsx)(Y.tJ,{onSelect:()=>s(null),className:"text-sm",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)(M.A,{defaultMessage:"Unset for 30 days",id:"mZ78YiYBvg"}),null===e&&(0,a.jsx)(Q.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})}),(0,a.jsx)(Y.DG,{}),(0,a.jsx)(Y.tJ,{onSelect:()=>n(!l),className:"text-sm",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)(M.A,{defaultMessage:"Apply other token limits",id:"enUY20BInl"}),l&&(0,a.jsx)(Q.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})}),(0,a.jsx)(Y.tJ,{onSelect:()=>r(!i),className:"text-sm",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full gap-2",children:[(0,a.jsx)(M.A,{defaultMessage:"Apply feature access limits",id:"oyFNH6jKBM"}),i&&(0,a.jsx)(Q.J,{weight:"bold",className:"text-accent-secondary-100 h-4 w-4"})]})})]})})]})};var eo=t(40459);function ec(){let e=(0,U._)(["fixed top-2.5 right-3.5 z-10 flex flex-row items-center gap-2"]);return ec=function(){return e},e}let eu=()=>(0,a.jsx)(K.B,{size:16,className:"ml-2 -mr-2"});function ex(e){let{trigger:s,matchTriggerWidth:t=!0,onOpenChange:i,className:r}=e,d=(0,N.A)(),{track:c}=(0,l.st)(),{account:u}=(0,n.YL)(),{openConsentBanner:m}=(0,B.S)(),g=null==u?void 0:u.memberships.map(e=>e.organization),p=null==g?void 0:g.some(e=>e.capabilities.includes("api")),v=(0,V._r)(),{value:b}=(0,x.fS)("claude_ai_cumin"),w=(0,n.LJ)(),_=(0,W.B)(),{value:A}=(0,x.fS)("show_claude_desktop_download_link"),E=(0,f.V)(),k=((0,C.cX)()||(0,C.uF)())&&!E&&A,{closeSidebarOnMobile:S}=(0,ee.V)(),z=(0,a.jsxs)(o.$,{variant:"unstyled",size:"unset",className:"border-0.5 border-border-300 hover:border-border-200 group relative z-[1] w-full overflow-hidden rounded-lg !px-2.5 !py-2 !text-left","data-testid":"user-menu-button",children:[(0,a.jsx)("div",{className:"from-bg-500/0 to-bg-500/40 absolute inset-0 bg-gradient-to-b opacity-70 transition-opacity group-hover:opacity-100"}),(0,a.jsxs)("div",{className:"relative z-[5] flex w-full items-center gap-1.5",children:[(0,a.jsx)(q.J,{size:"sm"}),(0,a.jsx)("div",{className:"min-w-0 flex-1 truncate ",children:null==u?void 0:u.email_address}),(0,a.jsx)(h.a,{size:12})]})]});return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(Y.ms,{matchTriggerWidth:t,align:"end",unstyledTrigger:!0,trigger:s||z,onOpenChange:e=>{null==i||i(e)},className:(0,j.A)("w-72 font-base",r),children:[(0,a.jsx)(em,{}),(0,a.jsx)(Y.DG,{}),(0,a.jsx)(Y.tJ,{asChild:!0,"data-testid":"user-menu-settings",children:(0,a.jsx)(y(),{href:"/settings/profile",onClick:()=>{S()},className:"text-left block w-full",children:(0,a.jsx)(M.A,{defaultMessage:"Settings",id:"D3idYvSLF9"})})}),b&&(0,a.jsx)(en,{}),_&&(0,a.jsx)(Y.tJ,{onSelect:()=>{c({event_key:"claudeai.get_help.clicked"}),_.update({hideDefaultLauncher:!1}),_.show()},className:"intercom-launcher",children:(0,a.jsx)(M.A,{defaultMessage:"Get help",id:"9OuUCLqQgd"})}),(0,a.jsx)(ed,{}),(0,a.jsx)(Y.DG,{}),!eo.env.NEXT_PUBLIC_HIDE_UPSELLS&&(0,a.jsx)(Y.tJ,{asChild:!0,children:(0,a.jsx)(y(),{href:"/upgrade",children:w?(0,a.jsx)(M.A,{defaultMessage:"Upgrade plan",id:"c5+JRMBv/Y"}):(0,a.jsx)(M.A,{defaultMessage:"View all plans",id:"hSNxZTzZks"})})}),k&&(0,a.jsx)(Y.tJ,{asChild:!0,className:"pr-0",children:(0,a.jsx)(y(),{href:"https://claude.ai/download",target:"_blank",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,C.cX)()?(0,a.jsx)(M.A,{defaultMessage:"Download Claude for Mac",id:"BobP7MV3sG"}):(0,a.jsx)(M.A,{defaultMessage:"Download Claude for Windows",id:"qZjfHa3uMI"}),(0,a.jsx)(K.B,{size:16})]})})}),(0,a.jsxs)(Y.MS,{children:[(0,a.jsxs)(Y.Wn,{children:[(0,a.jsx)(M.A,{defaultMessage:"Learn more",id:"TdTXXf940t"}),"\xa0",(0,a.jsx)(H.K,{size:16})]}),(0,a.jsx)(Y.cm,{children:(0,a.jsxs)(Y.FV,{sideOffset:4,className:"font-base",children:[p&&(0,a.jsx)(Y.tJ,{asChild:!0,children:(0,a.jsx)(y(),{href:v.consoleAbsoluteUrl,target:"_blank",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)(M.A,{defaultMessage:"API Console",id:"CfiNwKIPP1"}),(0,a.jsx)(eu,{})]})})}),(0,a.jsx)(eg,{name:d.formatMessage({defaultMessage:"About Anthropic",id:"Cm+OGj8nZs"}),path:"/"}),(0,a.jsx)(Y.DG,{}),(0,a.jsx)(eg,{name:d.formatMessage({defaultMessage:"Usage policy",id:"2hfc4AKs6b"}),path:"/legal/aup"}),(0,a.jsx)(eg,{name:d.formatMessage({defaultMessage:"Privacy policy",id:"cPwv2cbzf2"}),path:"/legal/privacy"}),(0,a.jsx)(Y.tJ,{asChild:!0,children:(0,a.jsx)("button",{className:"w-full text-left text-sm",onClick:m,children:(0,a.jsx)(M.A,{defaultMessage:"Your privacy choices",id:"9z1SUK0pfj"})})})]})})]}),(0,a.jsx)(Y.DG,{}),"",(0,a.jsx)(Y.tJ,{asChild:!0,children:(0,a.jsx)(y(),{href:"/logout",children:(0,a.jsx)("span",{className:"flex items-center",children:(0,a.jsx)(M.A,{defaultMessage:"Log out",id:"PlBReUqqzW"})})})})]})})}let em=()=>{let{account:e}=(0,n.YL)(),s=(0,w.useMemo)(()=>{var s;return null!=(s=null==e?void 0:e.memberships.map(e=>e.organization))?s:[]},[e]),t=(0,w.useMemo)(()=>$()(s.filter(e=>e.capabilities.includes("chat")),e=>!e.capabilities.includes("raven"),"name"),[s]),l=t.some(e=>e.capabilities.includes("raven"));return(0,a.jsx)(a.Fragment,{children:e&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.o_,{className:" pb-2 overflow-ellipsis truncate",children:null==e?void 0:e.email_address}),t.map(e=>(0,a.jsx)(ef,{org:e,hasTeam:l},e.uuid))]})})},ef=e=>{let{org:s,hasTeam:t}=e,l=(0,N.A)(),{switchAndRefresh:i}=(0,J.nY)(),{activeOrganization:r}=(0,n.YL)(),d=(0,n.zm)(s),o=(0,E.usePathname)(),u=(0,w.useRef)(null),[x,m]=(0,w.useState)(!1),f=d?"Enterprise":s.capabilities.includes("raven")?"Team":s.capabilities.includes("claude_pro")?"Pro":s.capabilities.includes("claude_max")?"Max":"Free",h=s.uuid===(null==r?void 0:r.uuid),g=s.capabilities.includes("raven")?s.name:l.formatMessage({defaultMessage:"Personal",id:"NDx+B0BTac"}),p=(0,a.jsx)("span",{ref:u,className:"truncate text-text-100 ",onMouseEnter:()=>{u.current&&m(u.current.scrollWidth>u.current.clientWidth)},children:g}),v=(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,j.A)("flex items-center gap-2 w-full",h?"cursor-default":"cursor-pointer"),children:[(0,a.jsx)(eh,{org:s}),(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden grow",children:[x?(0,a.jsx)(c.Tooltip,{tooltipContent:g,children:p}):p,(0,a.jsxs)("div",{className:"font-small",children:[(0,a.jsx)("span",{className:"text-text-300",children:(0,a.jsx)(M.A,{defaultMessage:"{plan} plan",id:"oK+PGPHfhv",values:{plan:f}})}),"Free"===f&&h&&t&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.c,{size:12,className:"inline"}),(0,a.jsx)(y(),{href:"/upgrade",className:"text-text-000 hover font-medium transition-all",children:(0,a.jsx)(M.A,{defaultMessage:"Upgrade",id:"0h/lPMeYkq"})})]})]})]}),h&&(0,a.jsx)(Q.J,{weight:"bold",className:"flex-shrink-0 text-accent-secondary-100 h-4 w-4"})]})});return h?(0,a.jsx)(Y.q,{children:v}):(0,a.jsx)(Y.tJ,{onSelect:()=>{o.startsWith("/chat/")?i(s.uuid,"/chats"):i(s.uuid)},children:v})},eh=e=>{let{org:s}=e,t=s.capabilities.includes("raven"),l=t?(0,a.jsx)(i.yb,{}):(0,a.jsx)(q.J,{size:"sm"});return(0,a.jsx)("div",{className:(0,j.A)("flex-shrink-0 flex size-8 items-center justify-center rounded-full text-text-200",t&&"rounded-md bg-bg-000/60 border-border-300 border-0.5"),children:l})},eg=e=>{let{name:s,path:t}=e,{websiteBaseUrl:l}=(0,V._r)();return(0,a.jsx)(Y.tJ,{asChild:!0,children:(0,a.jsx)(y(),{href:"".concat(l).concat(t),target:"_blank",children:(0,a.jsxs)("span",{className:"flex items-center justify-between w-full",children:[(0,a.jsx)("span",{children:s}),(0,a.jsx)(eu,{})]})})})};G.J.div(ec()),t(69916);var ep=t(78108),ej=t(75777),ev=t(16276),eb=t(50707);function ey(e){let{type:s,href:t,target:l,CustomIcon:n,onClick:r=()=>void 0,children:d,tooltipContent:u,isExpanded:x,uuid:m,size:f="default",conversation:h,className:g,isActive:p,disabled:v,showUpgradeTag:b}=e,y=(0,N.A)(),M=(0,E.usePathname)(),C=void 0!==p?p(M):M===t&&"more"!==s&&"promo"!==s,[A,k]=(0,w.useState)(!1),{closeSidebarOnMobile:S,isMobile:z}=(0,ee.V)(),{data:O}=(0,_.fo)("project"===s?m:void 0);return(0,a.jsx)(c.Tooltip,{delayDuration:0,disableHoverableContent:!0,tooltipContent:!x&&!z&&u,side:"right",children:(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsxs)(o.$,{"aria-label":u,href:t,target:l,onLinkClick:e=>{r(e),S()},variant:"ghost",size:f,disabled:v&&!b,className:(0,j.A)(C&&"!bg-bg-400","promo"===s?"w-full overflow-hidden !min-w-0 group px-4 hover:!bg-transparent active:!bg-transparent":"w-full hover:bg-bg-400 overflow-hidden !min-w-0 group active:bg-bg-400 active:scale-[1.0] px-4",g),children:[(0,a.jsxs)("div",{className:"-translate-x-2 w-full flex flex-row items-center justify-start gap-3",children:[n&&(0,a.jsx)("div",{className:(0,j.A)("size-4 flex items-center justify-center",v&&b&&"text-text-400/40 group-hover:!text-text-200/40"),children:n}),"more"===s&&(0,a.jsx)(ep.t,{size:18,className:"shrink-0 "}),(0,a.jsx)("span",{className:(0,j.A)("truncate text-sm whitespace-nowrap w-full",m&&"group-hover:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] group-focus-within:[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)] [mask-size:100%_100%]",(A||C)&&"[mask-image:linear-gradient(to_right,hsl(var(--always-black))_78%,transparent_95%)]",v&&b&&"text-text-000/40"),children:d})]}),b&&x&&(0,a.jsx)(eb.M,{className:"absolute right-2 top-1/2 -translate-y-1/2"})]}),(C||A||!z)&&(0,a.jsx)("div",{className:(0,j.A)("absolute right-0 top-1/2 -translate-y-1/2",A||C?"block":"hidden group-hover:block group-focus-within:block"),children:m?"chat"===s&&h?(0,a.jsx)(ej.p,{conversation:h,initialName:h.name,open:A,onOpenChange:k,trigger:(0,a.jsx)(o.$,{variant:"ghost",className:"active:!scale-100 aria-expanded:!bg-bg-400",size:"icon_sm",onClick:e=>{e.stopPropagation(),e.preventDefault()},"aria-label":h.name?y.formatMessage({defaultMessage:"More options for {label}",id:"rKQPgfPvWS"},{label:h.name}):y.formatMessage({defaultMessage:"More options",id:"IzCVhGdYVc"}),children:(0,a.jsx)(i.FO,{})})}):"project"===s?O?(0,a.jsx)(ev.U,{project:O,buttonSize:"icon_sm",open:A,onOpenChange:k}):null:void 0:null})]})})}function ew(e){let{hasInitiallyLoaded:s,...t}=e;return(0,a.jsx)(v.P.li,{initial:{opacity:0,height:s?0:"auto"},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},children:(0,a.jsx)(ey,{...t})})}function eM(e){let{isExpanded:s,children:t}=e;return(0,a.jsx)("h3",{"aria-hidden":!s,className:(0,j.A)("text-text-300 pb-2 mt-1 text-xs select-none","pl-2","sticky top-0 z-10 bg-gradient-to-b from-bg-200 from-50% to-bg-200/40",!s&&"pointer-events-none"),children:t})}t(77186),t(15964),t(22529),t(14961),w.forwardRef((e,s)=>{let{isExpanded:t,hideOnCollapse:l,account:n,activeOrganization:i,isRaven:r,hasPro:d,hasMax:c,...u}=e;return(0,a.jsxs)(o.$,{ref:s,variant:"ghost",className:(0,j.A)("!scale-100 flex flex-row flex-grow items-center pointer-cursor !min-w-0 w-full hover:!bg-bg-400 !transition-all",t?"!px-1.5 py-6 gap-3":"!px-0.5 py-5 my-1 gap-0"),"data-testid":"user-menu-button",...u,children:[i&&(0,a.jsx)(eh,{org:i}),(0,a.jsxs)("div",{className:(0,j.A)(l,"flex w-full text-sm justify-between items-center font-medium min-w-0"),children:[(0,a.jsxs)("div",{className:"flex flex-col items-start w-full max-w-full overflow-hidden pr-4",children:[(0,a.jsx)("span",{className:"w-full max-w-full overflow-hidden text-start block truncate",children:null==n?void 0:n.full_name}),(0,a.jsx)("span",{className:"w-full truncate text-xs text-text-300 font-normal text-start",children:r?null==i?void 0:i.name:d?(0,a.jsx)(M.A,{defaultMessage:"Pro plan",id:"P0xe8AvKVP"}):c?(0,a.jsx)(M.A,{defaultMessage:"Max plan",id:"yC6ECfKPIQ"}):(0,a.jsx)(M.A,{defaultMessage:"Free plan",id:"B+7815cfpz"})})]}),(0,a.jsx)(h.a,{className:"flex-shrink-0 mr-2",size:14})]})]})}).displayName="UserMenuTrigger";var eN=t(32998),e_=t(36208),eC=t(61773),eA=t(34116),eE=t(68096),ek=t(38360);let eS=(0,w.forwardRef)((e,s)=>{let{trigger:t,children:l,disableTrigger:n=!1,side:r="bottom",align:d="center",alignOffset:o,sideOffset:c,closeButton:u="none",className:x,triggerClassName:m,onCloseButtonClick:f}=e,[h,g]=(0,w.useState)(!1);return(0,w.useImperativeHandle)(s,()=>({open:()=>g(!0),close:()=>g(!1)})),(0,a.jsxs)(ek.bL,{open:h,onOpenChange:n?void 0:e=>{g(e)},children:[(0,a.jsx)(ek.l9,{asChild:!0,className:m,children:"function"==typeof t?t(h):t}),(0,a.jsx)(ek.ZL,{children:(0,a.jsxs)(ek.UC,{side:r,align:d,alignOffset:o,sideOffset:c,collisionPadding:16,className:(0,j.A)("bg-bg-000 p-2 shadow-[0px_0px_32px_0px_hsl(var(--accent-main-900)/12%)] rounded-xl max-w-[16rem] relative outline-none z-tooltip",x),children:["none"!==u&&(0,a.jsx)(ek.bm,{onClick:f,className:(0,j.A)({"absolute top-2 right-2 translate-x-1 -translate-y-1 bg-bg-000 p-1 rounded-md":"absolute"===u,"float-right":"wrap"===u}),children:(0,a.jsx)(i.X,{size:16,className:"opacity-80 hover:opacity-100 transition-opacity duration-200"})}),l,(0,a.jsx)(ek.i3,{className:"fill-bg-000 drop-shadow-lg",height:8,width:16})]})})]})});eS.displayName="Popover";var ez=t(84334),eO=t(45476);let eP=(0,w.forwardRef)((e,s)=>{let{popoverKey:t,autoShowOnMount:i=!0,children:r,closeTrackEvent:d,...o}=e,{account:c}=(0,n.YL)(),{mutate:u}=(0,eE.Jy)(),x=(0,E.useSearchParams)(),{data:m,isLoading:f}=(0,eO.g)(),{track:h}=(0,l.st)(),g=(0,w.useRef)(null),p="marketing-popover-".concat(t),j=(()=>{var e;return!!(!c||(0,ez.S_)(c.email_address))||"true"!==x.get("debug_".concat(t))&&((null==(e=c.settings)?void 0:e.dismissed_claudeai_banners)||[]).some(e=>e.banner_id===p)})(),v=()=>{var e;(null==c?void 0:c.settings)&&u({...c.settings,dismissed_claudeai_banners:[...c.settings.dismissed_claudeai_banners||[],{banner_id:p,dismissed_at:new Date().toISOString()}]}),d&&h(d),null==(e=g.current)||e.close()},b=()=>{if(!j){var e;null==(e=g.current)||e.open()}};return(0,w.useImperativeHandle)(s,()=>({close:v,openIfNotSeen:b})),(0,w.useEffect)(()=>{!f&&(!i||(null==m?void 0:m.spotlight)||b())},[f]),(0,a.jsx)(eS,{ref:g,disableTrigger:!0,onCloseButtonClick:v,...o,children:r})});eP.displayName="MarketingPopover";var eI=t(60980),eL=t(76761);let eT=(0,w.forwardRef)((e,s)=>{let{isExpanded:t,setIsHidden:n}=e,{track:i}=(0,l.st)(),r=(0,w.useMemo)(()=>({win_four_months_max:(0,a.jsx)(M.A,{defaultMessage:"Win 4 months of Max",id:"sTHRUu15q1"}),get_four_months_max_free:(0,a.jsx)(M.A,{defaultMessage:"Get 4 months of Max free",id:"erNk86QqJj"}),get_four_months_claude:(0,a.jsx)(M.A,{defaultMessage:"Get 4 months of Claude 4",id:"CKVjmAKCts"})}),[]),d=(0,p.useExperiment)("invite_contest_sidebar_text").get("text_variant","win_four_months_max"),o=(0,w.useCallback)(()=>{i({event_key:"claudeai.invite_contest.clicked",experiment_variant:d})},[i,d]),c=(0,w.useCallback)(e=>{e.stopPropagation(),localStorage.setItem("hideInviteContestLink","true"),n(!0),i({event_key:"claudeai.invite_contest.dismissed",experiment_variant:d})},[i,d,n]),u=r[d];return(0,a.jsxs)("div",{ref:s,className:"relative group",children:[(0,a.jsx)("div",{className:"absolute inset-0 border border-accent-secondary-200/20 group-hover:border-accent-secondary-200/40 rounded-lg pointer-events-none z-0 transition-colors duration-200"}),(0,a.jsx)(ey,{CustomIcon:(0,a.jsx)(eI.p,{size:18,className:"text-accent-secondary-100 group-hover:text-accent-secondary-200 transition-colors duration-200"}),href:"/invite",type:"promo",isExpanded:t,onClick:o,children:(0,a.jsx)("span",{className:"font-normal text-sm text-accent-secondary-100 group-hover:text-accent-secondary-000 transition-colors duration-200 pl-1.5 flex-1",children:u})}),t&&(0,a.jsx)("button",{onClick:c,className:"absolute right-2 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 text-text-300 hover:text-text-000 transition-opacity duration-200 p-1 z-20",children:(0,a.jsx)(eL.X,{size:16})})]})});function eD(e){var s;let{isExpanded:t}=e,{value:l}=(0,x.fS)("claude_ai_invite_contest"),n=(0,w.useRef)(null),{isMobile:i}=(0,ee.V)(),{ipCountry:r}=(0,V._r)(),{fiveXPricing:d,fetchAllPricing:c}=(0,eA.Le)({}),[u,m]=(0,w.useState)(()=>"true"===localStorage.getItem("hideInviteContestLink"));if((0,w.useEffect)(()=>{r&&l&&!u&&c({address:{country:r}})},[r,l,u,c]),(0,w.useEffect)(()=>{let e=()=>{var e;null==(e=n.current)||e.openIfNotSeen()};return window.addEventListener("firstClaudeMessage",e),()=>{window.removeEventListener("firstClaudeMessage",e)}},[]),!l||u)return null;let f=(null==d||null==(s=d.price)?void 0:s.basePrice)?4*d.price.basePrice:null,h=f&&(null==d?void 0:d.currency)?(0,e_.vv)(f,d.currency,{preferWholeNumber:!0}):"$400",g=i?(0,a.jsx)(eT,{isExpanded:t,setIsHidden:m}):(0,a.jsxs)(eP,{popoverKey:"invite-contest",ref:n,autoShowOnMount:!1,trigger:(0,a.jsx)(eT,{isExpanded:t,setIsHidden:m}),side:"right",sideOffset:16,align:"end",alignOffset:-16,closeButton:"absolute",children:[(0,a.jsx)("div",{className:"py-4 mb-2 rounded-md bg-[#CBCADB] flex justify-center items-center",children:(0,a.jsx)(eC.default,{src:"/images/giftbox-white.svg",alt:"Gift Box",width:120,height:120})}),(0,a.jsxs)("div",{className:"px-1.5 py-1.5",children:[(0,a.jsx)("h2",{className:"text-sm font-medium text-text-100 mb-1.5",children:(0,a.jsx)(M.A,{defaultMessage:"Win 4 months of Claude 4",id:"11xRu8cUR8"})}),(0,a.jsx)("p",{className:"text-sm text-text-100 mb-3",children:(0,a.jsx)(M.A,{defaultMessage:"Share your invite link to win a chance at 4 months of Max plan ({value} in value)!",id:"iJDgr6HMht",values:{value:h}})}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(o.$,{href:"/invite",className:"inline-block ",children:(0,a.jsx)(M.A,{defaultMessage:"Share link",id:"GQNYobJbtO"})})})]})]});return(0,a.jsx)(v.P.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,ease:"easeOut"},className:t?"px-2 py-2":"px-2 pb-2",children:g})}eT.displayName="InviteContestNavItem";var eR=t(7726),eF=t(49645),eU=t(18900);function eJ(e){let{isExpanded:s}=e,t=(0,eU.QJ)(),{track:n}=(0,l.st)(),[i,r]=(0,w.useState)(!1),{data:d,isLoading:o}=(0,eR.EV)({limit:eR.sk,starred:!1}),{data:c,isLoading:u}=(0,eU.$D)(t),{data:x}=(0,eR.Fn)();(0,w.useEffect)(()=>{!o&&(null==d?void 0:d.length)&&r(!0)},[o,d]);let m=(0,w.useMemo)(()=>!o&&(null==d?void 0:d.length)?t&&(null==c?void 0:c.data)?[...d,...c.data.filter(e=>0===e.session_context.sources.length)].sort((e,s)=>new Date(s.updated_at).getTime()-new Date(e.updated_at).getTime()):d:[],[d,c,o,t]);if(!o&&!u&&(null==d?void 0:d.length)&&(!t||(null==c?void 0:c.data.length)))return(0,a.jsxs)("div",{className:"flex flex-col ",children:[(0,a.jsx)(eM,{isExpanded:s,"aria-hidden":!s,children:(0,a.jsx)(M.A,{defaultMessage:"Recents",id:"wA4FIMmtlS"})}),(0,a.jsx)("ul",{className:"flex flex-col gap-px",children:(0,a.jsx)(eF.N,{children:m.map(e=>{if(!("type"in e))return(0,a.jsx)(ew,{hasInitiallyLoaded:i,href:"/chat/".concat(e.uuid),type:"chat",uuid:e.uuid,size:"sm",isExpanded:s,onClick:()=>{n({event_key:"claudeai.conversation.recent.opened",conversation_uuid:e.uuid})},conversation:e,children:e.name?e.name:(0,a.jsx)("span",{className:"opacity-60",children:(0,a.jsx)(M.A,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})},e.uuid)})})}),x&&x.count>=eR.sk&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ey,{size:"sm",type:"more",href:"/recents",isExpanded:s,children:(0,a.jsx)(M.A,{defaultMessage:"All chats",id:"Ug9lgdRJy3"})}),(0,a.jsx)("div",{className:"bg-gradient-to-t from-bg-200 to-transparent sticky h-4 bottom-0 left-0 right-0"})]})]})}function eV(e){let{isExpanded:s}=e,[t,l]=(0,w.useState)(!1),n=(0,T.K)(),{data:i,isLoading:d}=(0,_.CB)({enabled:!0,starred:!0,limit:_.sC}),{data:o,isLoading:c}=(0,eR.EV)({starred:!0,limit:eR.sk}),{value:u}=(0,x.fS)("haystack_enabled"),m=n&&d||c;if((0,w.useEffect)(()=>{m||l(!0)},[m]),m)return;let f=null!=o?o:[],h=null!=i?i:[];return(u||(h=h.filter(e=>e.type!==_.gM.Haystack)),(null==h?void 0:h.length)||(null==f?void 0:f.length))?(0,a.jsxs)("div",{className:"flex flex-col mb-6",children:[(0,a.jsx)(eM,{isExpanded:s,children:(0,a.jsx)(M.A,{defaultMessage:"Starred",id:"V7cUPvWFo3"})}),(0,a.jsx)("ul",{className:"-mx-1.5 flex flex-1 flex-col px-1.5 gap-px",children:(0,a.jsxs)(eF.N,{children:[h.map(e=>(0,a.jsx)(ew,{hasInitiallyLoaded:t,type:"project",href:"/project/".concat(e.uuid),uuid:e.uuid,size:"sm",CustomIcon:(0,a.jsx)(r.o,{size:16}),isExpanded:s,children:e.name},e.uuid)),f.map(e=>(0,a.jsx)(ew,{hasInitiallyLoaded:t,type:"chat",href:"/chat/".concat(e.uuid),uuid:e.uuid,size:"sm",conversation:e,isExpanded:s,children:e.name?e.name:(0,a.jsx)("span",{className:"opacity-60",children:(0,a.jsx)(M.A,{defaultMessage:"Untitled",id:"3kbIhS7KZS"})})},e.uuid))]})})]}):null}t(39323),t(11653),t(90238);var eB=t(40459);let eW="18rem",eG=49;function eY(e){let{isExpanded:s,hideOnCollapse:t,closeSidebarOnMobile:l,isMobile:n,mode:i,hasTinyPancakesEnabled:r,canAccessProjects:d,projectsCount:o,showUpgradeInsteadOfHide:c,hasPaidAccount:u,hasArtifactsGallery:x,isPixieEnabled:m,isBeamEnabled:f,hasClaudeCodeRemoteAccess:h,showClaudeCodeSettings:g,isHovered:p,setIsHovered:v,setIsExpanded:b,userMenuTrigger:y}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eZ,{isExpanded:s,hideOnCollapse:t,closeSidebarOnMobile:l,isMobile:n,mode:i,hasTinyPancakesEnabled:r,canAccessProjects:d,projectsCount:o,showUpgradeInsteadOfHide:c,hasPaidAccount:u,hasArtifactsGallery:x,isPixieEnabled:m,isBeamEnabled:f,hasClaudeCodeRemoteAccess:h,showClaudeCodeSettings:g}),(0,a.jsx)(eQ,{isExpanded:s,hideOnCollapse:t,isMobile:n,isHovered:p,setIsHovered:v,setIsExpanded:b,hasTinyPancakesEnabled:r}),!eB.env.NEXT_PUBLIC_HIDE_UPSELLS&&(0,a.jsx)(eD,{isExpanded:s}),"",(0,a.jsx)("div",{className:(0,j.A)(s?"px-2":"px-1.5","pb-1 transition"),children:(0,a.jsx)(ex,{trigger:y,matchTriggerWidth:!1,className:"w-[17rem] mx-2"})})]})}let eK=w.forwardRef((e,s)=>{let{isExpanded:t,hideOnCollapse:l,account:n,activeOrganization:i,isRaven:r,hasPro:d,hasMax:c,...u}=e;return(0,a.jsxs)(o.$,{ref:s,variant:"ghost",className:(0,j.A)("!scale-100 flex flex-row flex-grow items-center pointer-cursor !min-w-0 w-full hover:!bg-bg-400 !transition-all",t?"!px-1.5 py-6 gap-3":"!px-0.5 py-5 my-1 gap-0"),"data-testid":"user-menu-button",...u,children:[i&&(0,a.jsx)(eh,{org:i}),(0,a.jsxs)("div",{className:(0,j.A)(l,"flex w-full text-sm justify-between items-center font-medium min-w-0"),children:[(0,a.jsxs)("div",{className:"flex flex-col items-start w-full max-w-full overflow-hidden pr-4",children:[(0,a.jsx)("span",{className:"w-full max-w-full overflow-hidden text-start block truncate",children:null==n?void 0:n.full_name}),(0,a.jsx)("span",{className:"w-full truncate text-xs text-text-300 font-normal text-start",children:r?null==i?void 0:i.name:d?(0,a.jsx)(M.A,{defaultMessage:"Pro plan",id:"P0xe8AvKVP"}):c?(0,a.jsx)(M.A,{defaultMessage:"Max plan",id:"yC6ECfKPIQ"}):(0,a.jsx)(M.A,{defaultMessage:"Free plan",id:"B+7815cfpz"})})]}),(0,a.jsx)(h.a,{className:"flex-shrink-0 mr-2",size:14})]})]})});function eH(e){let{isExpanded:s,hideOnCollapse:t,isOpen:n}=e,i=(0,N.A)(),{track:d}=(0,l.st)();return(0,a.jsx)("div",{children:(0,a.jsx)(ey,{CustomIcon:(0,a.jsx)(r.FY,{size:16}),href:"/artifacts",tooltipContent:i.formatMessage({defaultMessage:"Artifacts",id:"eW5eoWkxy3"}),isExpanded:s,onClick:()=>{d({event_key:"artifact.popover.artifacts_tab_clicked"})},isActive:e=>e.startsWith("/artifacts"),children:(0,a.jsxs)("div",{className:(0,j.A)(t,"flex items-center gap-2"),children:[(0,a.jsx)(M.A,{defaultMessage:"Artifacts",id:"eW5eoWkxy3"}),n&&(0,a.jsx)(e1,{})]})})})}function eZ(e){let{isExpanded:s,hideOnCollapse:t,closeSidebarOnMobile:l,isMobile:n,mode:d,hasTinyPancakesEnabled:o,canAccessProjects:c,projectsCount:u,showUpgradeInsteadOfHide:x,hasPaidAccount:m,hasArtifactsGallery:f,isPixieEnabled:h,isBeamEnabled:p,hasClaudeCodeRemoteAccess:v,showClaudeCodeSettings:b}=e,y=(0,N.A)();return(0,a.jsxs)("div",{className:"flex flex-col px-2 pt-1 gap-px mb-6",children:[(0,a.jsx)("div",{className:"mb-1",children:(0,a.jsx)(e0,{hideOnCollapse:t,isExpanded:s,closeSidebarOnMobile:l,isMobile:n,mode:d,hasTinyPancakesEnabled:o})}),(0,a.jsx)(ey,{CustomIcon:(0,a.jsx)(r.Ru,{size:16}),href:"/recents",tooltipContent:y.formatMessage({defaultMessage:"Chats",id:"ABAQyoD6zr"}),isExpanded:s,children:(0,a.jsx)("div",{className:t,children:(0,a.jsx)(M.A,{defaultMessage:"Chats",id:"ABAQyoD6zr"})})}),"",(c||x)&&(0,a.jsx)(ey,{CustomIcon:(0,a.jsx)(r.o,{size:16}),href:c?(null==u?void 0:u.count)===0?"/projects/create":"/projects":"/upgrade",tooltipContent:y.formatMessage({defaultMessage:"Projects",id:"UxTJRaKagI"}),isExpanded:s,disabled:!c&&x,showUpgradeTag:!c&&x&&!m,children:(0,a.jsx)("div",{className:t,children:(0,a.jsx)(M.A,{defaultMessage:"Projects",id:"UxTJRaKagI"})})}),f?(0,a.jsx)(eH,{isExpanded:s,hideOnCollapse:t,isOpen:!1}):null,"",v&&(0,a.jsx)(ey,{CustomIcon:(0,a.jsx)(i.Cy,{size:16}),href:"/code",target:"_blank",tooltipContent:y.formatMessage({defaultMessage:"Code",id:"h2vipunVVd"}),isExpanded:s,children:(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{children:(0,a.jsx)(M.A,{defaultMessage:"Code",id:"h2vipunVVd"})}),(0,a.jsx)(g.Q,{weight:"light",className:(0,j.A)(t,"absolute block -right-4 top-1/2 -translate-y-1/2"),size:20})]})}),b&&!v&&(0,a.jsx)(ey,{CustomIcon:(0,a.jsx)(i.Cy,{size:16}),href:"/claude-code/install",tooltipContent:y.formatMessage({defaultMessage:"Claude Code",id:"vKMj39KhGw"}),isExpanded:s,children:(0,a.jsx)(M.A,{defaultMessage:"Claude Code",id:"vKMj39KhGw"})}),""]})}function eQ(e){let{isExpanded:s,hideOnCollapse:t,isMobile:l,isHovered:n,setIsHovered:i,setIsExpanded:r,hasTinyPancakesEnabled:d}=e;return(0,a.jsxs)("div",{className:"flex flex-grow flex-col overflow-y-auto overflow-x-hidden relative px-2 mb-2",tabIndex:-1,children:[(0,a.jsxs)("div",{className:(0,j.A)(t,!s&&"overflow-hidden"),"aria-hidden":!s,inert:!s,children:[(0,a.jsx)(eV,{isExpanded:s}),"",(0,a.jsx)(eJ,{isExpanded:s})]}),(0,a.jsx)("div",{className:(0,j.A)("h-full w-full cursor-pointer absolute top-0 z-sidebar",s&&"hidden"),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onClick:()=>!l&&r(!s)})]})}function eX(e){let{isExpanded:s,setIsExpanded:t,isClaudeAppGAMac:l,isMobile:n,isHovered:r,mode:u}=e,x=(0,N.A)();return(0,a.jsxs)("div",{className:(0,j.A)("flex w-full items-center gap-px p-2",l&&"pl-[90px] pt-3 draggable min-w-fit"),children:[(0,a.jsx)(c.Tooltip,{side:"right",delayDuration:0,tooltipContent:s?"":x.formatMessage({defaultMessage:"Toggle sidebar",id:"6D4GhbsBIR"}),keyboardShortcut:"Cmd+/",children:(0,a.jsx)(o.$,{variant:"ghost",size:"icon_sm",onClick:()=>t(!s),className:(0,j.A)("group",s&&!l&&"aria-expanded:bg-transparent aria-expanded:hover:bg-bg-300",n&&"bg-bg-100"),"data-testid":"pin-sidebar-toggle","aria-label":x.formatMessage({defaultMessage:"Sidebar",id:"JZy6joR+Wk"}),"aria-expanded":s,"aria-haspopup":"menu",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(i.Bx,{className:(0,j.A)("group-hover:scale-80 transition",!l&&[n&&s&&"!opacity-0 scale-80",r&&!n?"opacity-0 scale-80":"scale-100",s&&"group-hover:opacity-0","text-text-300"])}),!l&&(s?(0,a.jsx)(i.hO,{className:(0,j.A)(n&&s&&"!opacity-100 !scale-100",r?"opacity-100 scale-100":"opacity-0 scale-75","absolute inset-0 group-hover:scale-100 group-hover:opacity-100 transition-all text-text-200")}):(0,a.jsx)(i.L6,{className:(0,j.A)(r&&!n?"opacity-100 scale-100":"opacity-0 scale-75","absolute inset-0 transition-all text-text-200")}))]})})}),!l&&s&&(0,a.jsx)(y(),{href:"pancake"===u?"/tiny-pancakes/list":"/new",className:"flex flex-col justify-start items-top","aria-label":x.formatMessage({defaultMessage:"Home",id:"ejEGdxSUGs"}),children:(0,a.jsx)(d.g,{className:"ml-[3px] h-4 flex-shrink-0 text-text-100"})})]})}eK.displayName="UserMenuTrigger";let e$=new Date("2025-09-10T00:00:00Z");function eq(){let{account:e,activeOrganization:s}=(0,n.YL)(),t=(0,p.useStatsigClient)(),l=(0,N.A)(),i=(0,T.K)(),{data:r}=(0,_.PL)(),d=(0,F.Ob)(),o=(0,n.h0)(),[c,h]=(0,w.useState)(!1),{isExpanded:g,setIsExpanded:b,closeSidebarOnMobile:y,isMobile:M}=(0,ee.V)(),C=(0,f.V)(u.E_),A=(0,w.useRef)(null),{mode:E}=(0,eN.M)(),{value:k}=(0,x.fS)("claudeai_beam"),{value:S}=(0,x.fS)("claudeai_beam_dev"),{value:z}=(0,x.fS)("haystack_enabled"),{value:O}=(0,x.fS)("enable_pixie"),{value:P}=(0,x.fS)("beam_skibidi_rizz"),I=M||C?"0":"3.05rem",U=(0,j.A)(g?"":"opacity-0 -translate-x-0.5","transition-all duration-200"),J=(0,w.useMemo)(()=>({collapsed:{width:I,transition:{type:"spring",stiffness:1e3,damping:44,mass:.6}},expanded:{width:eW,transition:{type:"spring",stiffness:1e3,damping:60,mass:.8}}}),[I]),V=!!(null==s?void 0:s.capabilities.includes("raven")),B=!!(null==s?void 0:s.capabilities.includes("claude_pro")),W=!!(null==s?void 0:s.capabilities.includes("claude_max")),G=(0,R.U4)(),Y=(0,D.V)(),K=(0,n.FH)(),H=(0,w.useMemo)(()=>!!(null==e?void 0:e.created_at)&&!!t&&new Date(e.created_at)>=e$&&t.getExperiment("forked_cc_onboarding_v2").get("show_forked_onboarding",!1),[null==e?void 0:e.created_at,t]);(0,m.W)("focusin",e=>{var s;let t=e.target;t&&t instanceof Element&&((null==(s=A.current)?void 0:s.contains(t))||y())},{enabled:g&&M});let Z=(0,a.jsx)(eK,{isExpanded:g,hideOnCollapse:U,account:e,activeOrganization:s,isRaven:V,hasPro:B,hasMax:W});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(L,{}),(0,a.jsx)(v.P.div,{animate:g?"expanded":"collapsed",style:{width:g?eW:I},className:"fixed z-sidebar lg:sticky",children:(0,a.jsxs)(v.P.nav,{ref:A,variants:J,initial:!1,animate:g?"expanded":"collapsed",className:(0,j.A)("h-screen flex flex-col gap-3 pb-2 px-0 fixed top-0 left-0 transition duration-100 border-border-300 border-r-0.5",g&&"shadow-lg lg:shadow-none",(c||g)&&"!bg-bg-200"),"aria-label":l.formatMessage({defaultMessage:"Sidebar",id:"JZy6joR+Wk"}),children:[(0,a.jsx)(eX,{isExpanded:g,setIsExpanded:b,isClaudeAppGAMac:C,isMobile:M,isHovered:c,mode:E}),(0,a.jsx)("div",{className:(0,j.A)("flex flex-col align-center h-full overflow-hidden",M&&U,!g&&M&&"pointer-events-none"),"aria-hidden":!g&&M,inert:!g&&M,children:(0,a.jsx)(eY,{isExpanded:g,hideOnCollapse:U,closeSidebarOnMobile:y,isMobile:M,mode:E,hasTinyPancakesEnabled:G,canAccessProjects:i,projectsCount:r,showUpgradeInsteadOfHide:d,hasPaidAccount:o,hasArtifactsGallery:Y,isPixieEnabled:O,isBeamEnabled:z?S:k,hasClaudeCodeRemoteAccess:K,showClaudeCodeSettings:H,isHovered:c,setIsHovered:h,setIsExpanded:b,userMenuTrigger:Z})})]})}),g&&M&&(0,a.jsx)("div",{className:"fixed bg-transparent z-sidebar top-0 bottom-0 right-0",style:{left:eW},onClick:y})]})}function e0(e){let{isExpanded:s,hideOnCollapse:t,closeSidebarOnMobile:l,isMobile:n,mode:r,hasTinyPancakesEnabled:d}=e,u=(0,N.A)(),x=(0,a.jsx)(M.A,{defaultMessage:"New chat",id:"ATDyLPIoxz"});return(0,a.jsx)(c.Tooltip,{delayDuration:0,side:"right",tooltipContent:!s&&!n&&x,keyboardShortcut:"Cmd+K",disableHoverableContent:!0,children:(0,a.jsx)("div",{children:(0,a.jsx)(o.$,{"aria-label":u.formatMessage({id:"ATDyLPIoxz",defaultMessage:"New chat"}),role:"link",variant:"unstyled",href:"pancake"===r&&d?"/tiny-pancakes/list":"/new",onLinkClick:l,className:(0,j.A)("group transition ease-in-out active:!scale-100 hover:bg-transparent flex !justify-start !min-w-0 w-full",s&&"hover:!bg-accent-main-000/[0.08] active:!bg-accent-brand/15"),children:(0,a.jsxs)("div",{className:"-mx-3 flex flex-row items-center gap-2",children:[(0,a.jsx)("div",{className:"w-6 h-6 flex items-center justify-center group-active:!scale-[0.98] group-active:!shadow-none group-active:bg-accent-main-200 group-hover:-rotate-3 group-hover:scale-110 group-active:rotate-6 rounded-full transition-all ease-in-out bg-accent-main-000 group-hover:shadow-md",children:(0,a.jsx)(i.pL,{size:12,className:"group-hover:scale-105 transition text-always-white"})}),(0,a.jsx)("div",{className:(0,j.A)(t,"text-accent-main-100 font-medium text-sm tracking-tight"),children:(0,a.jsx)(M.A,{defaultMessage:"New chat",id:"ATDyLPIoxz"})})]})})})})}function e1(){return(0,a.jsxs)("span",{className:"relative flex size-2",children:[(0,a.jsx)("span",{className:"absolute inline-flex h-full w-full animate-ping rounded-full bg-accent-secondary-100 opacity-75"}),(0,a.jsx)("span",{className:"relative inline-flex size-2 rounded-full bg-accent-secondary-100"})]})}},32998:(e,s,t)=>{t.d(s,{M:()=>i});var a=t(7620);let l="claudeai-mode-preference",n="modePreferenceChanged";function i(){let[e,s]=(0,a.useState)(()=>{try{let e=localStorage.getItem(l);return"chat"===e||"pancake"===e?e:null}catch(e){return null}});return(0,a.useEffect)(()=>{let e=e=>s(e.detail);return window.addEventListener(n,e),()=>window.removeEventListener(n,e)},[]),{mode:e,setMode:e=>{localStorage.setItem(l,e),s(e),window.dispatchEvent(new CustomEvent(n,{detail:e}))}}}},68866:(e,s,t)=>{t.d(s,{d:()=>l});var a=t(60045);function l(e){let s=a.c9.now(),t=a.c9.fromISO(e),l=t.diff(s,"minutes").toObject().minutes;return l&&1>=Math.abs(l)?"just now":t.toRelative()}},80929:(e,s,t)=>{t.d(s,{B:()=>i,IntercomProvider:()=>n});var a=t(54568),l=t(51844);function n(e){let{children:s,...t}=e;return(0,a.jsx)(l.F,{...t,children:s})}function i(){return(0,l.B)()}},84334:(e,s,t)=>{t.d(s,{S_:()=>l});let a={CLAUDE_E2E_TEST_ACCOUNT_REGEX:/^claude-[0-9]{16}(?:-[^-]+)?-e2e@sillylittleguy\.org$/,CONSOLE_E2E_TEST_ACCOUNT_REGEX:/^console-[0-9]{16}(?:-[^-]+)?-e2e@sillylittleguy\.org$/},l=e=>e.match(a.CONSOLE_E2E_TEST_ACCOUNT_REGEX)||e.match(a.CLAUDE_E2E_TEST_ACCOUNT_REGEX)},90238:(e,s,t)=>{t.d(s,{Iw:()=>u,Yq:()=>x,cR:()=>c});var a=t(54568),l=t(39323),n=t(68866),i=t(95356),r=t(51506),d=t(4705),o=t(17937);function c(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;switch(e){case l.v1.ACTIVE:return(0,a.jsx)(i.m,{size:s,className:"text-accent-brand animate-spin"});case l.v1.IDLE:return(0,a.jsx)(r.e,{size:s,className:"text-text-500"});case l.v1.ERROR:return(0,a.jsx)(d.N,{size:s,className:"text-danger-100"});case l.v1.COMPLETED:return(0,a.jsx)(o.r,{size:s});default:i.m}}function u(e){switch(e){case l.v1.ACTIVE:return"Active";case l.v1.IDLE:return"Idle";case l.v1.ERROR:return"Error";case l.v1.COMPLETED:return"Completed";default:return"Unknown"}}function x(e){if(!(null==e?void 0:e.seconds))return"";let s=new Date(1e3*Number(e.seconds));return(0,n.d)(s.toISOString())||""}},91965:(e,s,t)=>{t.d(s,{J:()=>i});var a=t(54568),l=t(27271),n=t(77316);let i=e=>{var s;let{size:t}=e,{data:i}=(0,n.mw)({additionalPermittedStatusCode:404});return(0,a.jsx)(l.O,{size:t,variant:"default",iconVariant:(null==i?void 0:i.avatar)===0?void 0:null!=(s=null==i?void 0:i.avatar)?s:void 0})}}}]);